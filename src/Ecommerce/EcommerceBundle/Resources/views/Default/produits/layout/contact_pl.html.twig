<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>E-contact</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
     <meta http-equiv="refresh" content="60">
    <link rel="icon" type="image/x-icon" href="{{ asset('Logo-econtact-2.png') }}" />
    <link rel="stylesheet" href="{{ asset('css/contact.css') }}" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <style>
        .envoyer_a
        {
            text-align: center;
            background-color: #58595a;
            padding: 0px;
            font-size: 18px;
            border: 1px solid #cccccc;
            border-radius: 4px;
            width: 120px;
            height: 35px;
            color: white!important;
        }
    </style>
</head>
<body>
<div class="container">
    <br>
    <div class="icon-retour retour">
        <a style="color: #2eb2ff; " href="{{ path('budget_affichage') }}">< Retour  ( chemins des onglets parcourus )</a>
        <a style="color: #2eb2ff; " href="{{ path('referencement_clear_session') }}">clear session</a>
    </div>

    {#<div class="loaders" style="display: none"></div>#}

    <br>
    <div class="row" align="center">
        <img  src="{{ asset('Image-11.jpg') }}" class="img-fluid" alt="proposition de visibilité telecontact" style="height: 176px; width: 80%;">
    </div>


    <div class="row">
        <div class="col-sm-2" {#style="background-color:lavender;"#}></div>
        <div class="col-sm-8" {#style="background-color:lavenderblush;"#}><br>
            <b><p style="float: right;">{{jour['now'|date('l')]}} {{ 'now' |date("d") }} {{trans_day_hash['now'|date('F')]}}{{ 'now' |date("Y") }} </p><br>
                <p>Raison sociale&nbsp;&nbsp;: {% if raison %}  {% if raison['rs']  %}  <span >{{ raison['rs'] }}</span><br>{% endif %}
                        {% if raison['cfirme']  %} Code firme &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span >{{ raison['cfirme'] }}</span> {% endif %}  {% endif %}
                </p></b><br>
            <b>
                {% if raison['civi'] =='Mr' %} Cher  {% endif %}
                {% if raison['civi'] =='Mme' %} Chere   {% endif %}
                {% if raison['civi'] =='Mlle' %} Chere  {% endif %}
                {% if raison %}
                    {% if raison['civi']  %}
                        {% if raison['civi'] =='Mme' %} Madame  {% endif %}
                        {% if raison['civi'] =='Mlle' %}  Mademoiselle {% endif %}
                        {% if raison['civi'] =='Mr' %} Monsieur  {% endif %}
                    {% endif %}

                    {% if raison['sign']  %} {{raison['sign'] }} {% endif %} {% endif %} ,
            </b>
            <div class="txt_descriptif">
                <p >Tout d'abord, nous tenons à vous remercier pour votre confiance et nous sommes ravis de vous compter parmi nos clients.</p>
                <p>Pour développer votre visibilité auprés des professionnels, nous vous préconisons une présence efficace sur telecontact.ma avec les solutions digitales suivantes:</p>
            </div>




            <table align="center" class="table table-bordered" style="margin-top: 30px;">

                <thead class="thead-dark">
                <tr>
                    <th scope="col" style="width: 444px;text-align: center;border-right: 2px solid white;">Produit(s)</th>
                    <th scope="col" style="width: 129px;text-align: center;border-right: 2px solid white;">P.U</th>
                    <th scope="col" style="width: 72px;text-align: center;border-right: 2px solid white;">Qté</th>
                    <th scope="col" style="width: 129px;text-align: center;">Montant HT</th>
                </tr>

                </thead>

                <tbody>
                {% if referencement['regions_sup']==null and referencement['raniad']==null and referencement['rubd']==null and referencement['prest']==null and referencement['mari']==null  %}
                    <tr class="table-warning" style="display: none">
                        <th colspan="4" style=" background-color: #ffdb2e;">Référencement</th>
                    </tr>
                {% else %}
                    <tr class="table-warning" >
                        <th colspan="4" style="  background-color: #ffdb2e;">Référencement</th>
                    </tr>
                {% endif %}

                <div>
                    {% if (referencement['regions_sup'] or  referencement['regions_sup']=='0' ) %}
                        {% if referencement['rania']  %}
                            <tr>
                                <th scope="row" style="font-size: 16px;"><strong>Carte de visite</strong></br>
                                    Visibilité sur :  <h7 style="font-weight: 400;font-size: 15px;">{{ referencement['regions']|sommes.libelle }}
                                        {#{% if referencement['regions_sup']=="0" %}( Sur sa region) {% endif %}#}
                                        {% if referencement['regions_sup']=="1" %}( +1 Région) {% endif %}
                                        {% if referencement['regions_sup']=="3" %}( +3 Régions) {% endif %}
                                        {% if referencement['regions_sup']=="6" %}( +6 Régions) {% endif %}
                                        {% if referencement['regions_sup']=="N" %} (National) {% endif %}</h7>

                                </th>

                                <td>{{ referencement['rania']|number_format|replace(',',' ')  }}</td>
                                <td>1</td>
                                <td>{{ referencement['rania']|number_format|replace(',',' ')  }}</td>
                            </tr>

                        {% endif %}


                    {% else %}

                        {% if  referencement['raniad']  %}
                            <tr>
                                <th scope="row" style="font-size: 16px;"><strong>Carte de visite</strong></br>
                                    Visibilité sur : <h7 style="font-weight: 400;font-size: 15px;">{{ referencement['villes']|somme.libelle }}

                                        {#
                                                                {% if referencement['villes_sup']=="0" %}( Sur sa localité) {% endif %}#}
                                        {% if referencement['villes_sup']=="1" %}( +1 Localités) {% endif %}
                                        {% if referencement['villes_sup']=="3" %}( +3 Localités) {% endif %}
                                        {% if referencement['villes_sup']=="6" %}( +3 Localités) {% endif %}
                                        {% if referencement['villes_sup']=="9" %} (+9 Localités) {% endif %}</h7>

                                </th>

                                <td>{{ referencement['raniad']|number_format|replace(',',' ')  }}</td>
                                <td>1</td>
                                <td>{{ referencement['raniad']|number_format|replace(',',' ') }}</td>
                            </tr>

                        {% endif %}


                    {% endif %}

                    {% if desrubref['rub1']!=null  %}
                        <tr>
                            <th scope="row"><strong>Rubrique Principale : </strong><br>
                                {#{% for rubrique in desrubref['rubrique'] %}
                                - <h7 style="font-weight: 500;font-size: 16px;">{{ rubrique.sel|rub.libelle }}</h7>
                                {% endfor %}#}
                                <div style="width: 350px!important;background-color: #f9f1c9">
                                    <h7 style="font-weight: 500;font-size: 16px;"> •&nbsp; {{ desrubref['rub1']|rub.libelle }}</h7>
                                </div>
                            </th>

                            <td>-</td>
                            <td>1</td>
                            <td>-</td>
                        </tr>

                    {% endif %}

                    {% if  nbr_rub['nbr_rub'] >=2 %}
                        <tr>
                            <th scope="row"><strong>Rubrique(s) supplémentaire(s): </strong><br>
                                <div style="width: 350px!important;background-color: #f9f1c9">
                                    {% if desrubref['rub2']!=null  %}
                                        <h7 class="testh" style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                            •&nbsp;{{ desrubref['rub2']|rub.libelle  }}<br>
                                        </h7>
                                    {% endif %}
                                </div>

                                <div style="width: 350px!important;background-color: #f9f1c9;margin-top: 5px;">
                                    {% if desrubref['rub3']!=null  %}
                                        <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                            •&nbsp;{{ desrubref['rub3']|rub.libelle  }}<br>
                                        </h7>

                                    {% endif %}
                                </div>
                                <div style="width: 350px!important;background-color: #f9f1c9;margin-top: 5px;">
                                    {% if desrubref['rub4']!=null  %}
                                        <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                            •&nbsp;{{ desrubref['rub4']|rub.libelle  }}<br>
                                        </h7>
                                    {% endif %}
                                </div>
                                <div style="width: 350px!important;background-color: #f9f1c9;margin-top: 5px;">
                                    {% if desrubref['rub5']!=null  %}
                                        <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                            •&nbsp;{{ desrubref['rub5']|rub.libelle  }}<br>
                                        </h7>
                                    {% endif %}
                                </div>
                            </th>

                            <td>{{ (referencement['rubd']/(referencement['rubrique']-1))|number_format|replace(',',' ') }}</td>
                            <td>{{ (referencement['rubrique']-1) }}</td>
                            <td>{{ referencement['rubd']|number_format|replace(',',' ')  }}</td>
                        </tr>

                    {% endif %}

                    {% if  referencement['prest']  %}
                        <tr>
                            <th scope="row"><strong>Prestation(s):  </strong></br>

                                {% for addprestation in desrubref['addprest1'] %}
                                    {%  if addprestation !=null or  desrubref['prest1']!=null %}
                                        <style>
                                            .rub1
                                            {
                                                display: block!important;
                                            }
                                        </style>
                                    {% endif %}
                                {% endfor %}

                                <div class="rub1" style="display: none">
                                    {% if desrubref['rub1']!=null  %}
                                        <div style="width: 350px!important;background-color: #f9f1c9">
                                            <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                                •&nbsp;{{ desrubref['rub1']|rub.libelle  }}<br>
                                            </h7>

                                        </div>
                                        {% for prestation in desrubref['prest1'] %}
                                            {% if desrubref['prest1']!=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ prestation|prest.prestation}}<br>

                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                        {% for addprestation in desrubref['addprest1'] %}
                                            {%  if addprestation !=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ addprestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                {% for addprestation in desrubref['addprest2'] %}
                                    {%  if addprestation !=null or  desrubref['prest2']!=null %}
                                        <style>
                                            .rub2
                                            {
                                                display: block!important;
                                            }
                                        </style>
                                    {% endif %}
                                {% endfor %}

                                <div class="rub2" style="display: none;">
                                    {% if desrubref['rub2']!=null  %}
                                        <div style="width: 350px!important;background-color: #f9f1c9">
                                            <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                                •&nbsp;{{ desrubref['rub2']|rub.libelle  }}<br>

                                            </h7>
                                        </div>
                                        {% for prestation in desrubref['prest2'] %}
                                            {% if desrubref['prest2']!=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ prestation|prest.prestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                        {% for addprestation in desrubref['addprest2'] %}
                                            {%  if addprestation !=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ addprestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}

                                </div>

                                {% for addprestation in desrubref['addprest3'] %}
                                    {%  if addprestation !=null or  desrubref['prest3']!=null %}
                                        <style>
                                            .rub3
                                            {
                                                display: block!important;
                                            }
                                        </style>
                                    {% endif %}
                                {% endfor %}

                                <div class="rub3" style="display: none;">
                                    {% if desrubref['rub3']!=null  %}
                                        <div style="width: 350px!important;background-color: #f9f1c9;">
                                            <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                                •&nbsp;{{ desrubref['rub3']|rub.libelle  }}<br>
                                            </h7>

                                        </div>

                                        {% for prestation in desrubref['prest3'] %}
                                            {% if desrubref['prest3']!=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ prestation|prest.prestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                        {% for addprestation in desrubref['addprest3'] %}
                                            {%  if addprestation !=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ addprestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                {% for addprestation in desrubref['addprest4'] %}
                                    {%  if addprestation !=null or  desrubref['prest4']!=null %}
                                        <style>
                                            .rub4
                                            {
                                                display: block!important;
                                            }
                                        </style>
                                    {% endif %}
                                {% endfor %}

                                <div class="rub4" style="display: none;">
                                    {% if desrubref['rub4']!=null  %}
                                        <div style="width: 350px!important;background-color: #f9f1c9;">
                                            <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                                •&nbsp;{{ desrubref['rub4']|rub.libelle  }}<br>
                                            </h7>
                                        </div>
                                        {% for prestation in desrubref['prest4'] %}
                                            {% if desrubref['prest4']!=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ prestation|prest.prestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                        {% for addprestation in desrubref['addprest4'] %}
                                            {%  if addprestation !=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ addprestation}}<br>
                                                </h7>
                                            {% endif %}

                                        {% endfor %}
                                    {% endif %}
                                </div>

                                {% for addprestation in desrubref['addprest5'] %}
                                    {%  if addprestation !=null or  desrubref['prest5']!=null %}
                                        <style>
                                            .rub5
                                            {
                                                display: block!important;
                                            }
                                        </style>
                                    {% endif %}
                                {% endfor %}

                                <div class="rub5" style="display: none;">
                                    {% if desrubref['rub5']!=null  %}
                                        <div style="width: 350px!important;background-color: #f9f1c9;">

                                            <h7 style="font-weight: 500;font-size: 16px;background-color: #f9f1c9">
                                                •&nbsp;{{ desrubref['rub5']|rub.libelle  }}<br>
                                            </h7>

                                        </div>
                                        {% for prestation in desrubref['prest5'] %}
                                            {% if desrubref['prest5']!=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ prestation|prest.prestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                        {% for addprestation in desrubref['addprest5'] %}
                                            {%  if addprestation !=null %}
                                                <h7 style="font-weight: 400;font-size: 15px;">
                                                    -&nbsp;{{ addprestation}}<br>
                                                </h7>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                </div>

                            </th>

                            <td>1 500</td>
                            <td>{{ referencement['prest_sup'] }} </td>
                            <td>{{ referencement['resulta']|number_format|replace(',',' ') }}</td>

                        </tr>
                    {% endif %}

                    {% if  referencement['mari']  %}
                        <tr>
                            <th scope="row"><strong>Marques : </strong></br>

                                {% if marque['marq1']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq1']  }}:
                                        </h7>
                                        {% for posi in marque['posi1'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq2']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq2']  }}:
                                        </h7>
                                        {% for posi in marque['posi2'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq3']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq3']  }}:
                                        </h7>
                                        {% for posi in marque['posi3'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq4']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq4']  }}:
                                        </h7>
                                        {% for posi in marque['posi4'] %}
                                            <h7 >
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq5']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq5']  }}:
                                        </h7>
                                        {% for posi in marque['posi5'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>
                                {% endif %}

                                {% if marque['marq6']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq6']  }}:
                                        </h7>
                                        {% for posi in marque['posi6'] %}
                                        <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                            -&nbsp;{{ posi}}
                                        </h7>
                                        {% endfor %}<br>
                                    </div>

                                {% endif %}

                                {% if marque['marq7']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq7']  }}:
                                        </h7>
                                        {% for posi in marque['posi7'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq8']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq8']  }}:
                                        </h7>
                                        {% for posi in marque['posi8'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq9']!=null  %}
                                    <div>
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq9']  }}:
                                        </h7>
                                        {% for posi in marque['posi9'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                                {% if marque['marq10']!=null  %}
                                    <div >
                                        <h7 style="font-weight: 500!important;font-size: 16px!important;background-color: #f9f1c9">
                                            •&nbsp;{{ marque['marq10']  }}:
                                        </h7>
                                        {% for posi in marque['posi10'] %}
                                            <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                                -&nbsp;{{ posi}}
                                            </h7>
                                        {% endfor %}
                                    </div>

                                {% endif %}

                            </th>

                            <td>1 500</td>
                            <td>{{ referencement['marque']  }}</td>
                            <td>{{ referencement['mari']|number_format|replace(',',' ') }}</td>
                        </tr>

                    {% endif %}
                </div>

                {% if contenu['catalogue']==null and contenu['catalogue_ref']==null and contenu['video']==null and contenu['page']==null and contenu['site_web']==null   %}
                    <tr class="table-warning" style="display: none">
                        <th colspan="4" style=" background-color: #ffdb2e;">Contenu</th>
                    </tr>
                {% else %}
                    <tr class="table-warning" >
                        <th colspan="4" style="  background-color: #ffdb2e;">Contenu</th>
                    </tr>
                {% endif %}

                <div>
                    {% if  contenu['catalogue']  %}
                        <tr>
                            <th scope="row"> <h7 style="font-weight: 500;font-size: 16px;">Catalogue {% if  contenu['catalogue']=='3500'  %} 5 pages {% endif %}  {% if  contenu['catalogue'] =='5000' %} 10 pages {% endif %}  {% if  contenu['catalogue']=='7500'  %}20 pages {% endif %}</h7></th>

                            <td>{{ contenu['catalogue']|number_format|replace(',',' ')  }}</td>
                            <td>1</td>
                            <td>{{ contenu['catalogue']|number_format|replace(',',' ')  }}</td>

                        </tr>

                    {% endif %}

                    {% if  contenu['catalogue_ref']  %}
                        <tr>
                            <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Catalogue Referencé</h7></th>

                            <td>{{ contenu['catalogue_ref']|number_format|replace(',',' ')  }}</td>
                            <td>1</td>
                            <td>{{ contenu['catalogue_ref']|number_format|replace(',',' ')  }}</td>

                        </tr>

                    {% endif %}

                    {% if  contenu['video']  %}

                        {% for entity in contenu['video'] %}

                            {% if entity == 6500 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Graphique</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}
                            {% if entity == 9500 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Vidéo</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}

                            {% if entity == 12500 %}

                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Film</h7> </th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{ entity|number_format|replace(',',' ') }}</td>

                                </tr>

                            {% endif %}
                            {% if entity == 20000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Motion Design</h7> </th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>

                                </tr>

                            {% endif %}
                            {% if entity == 30000 %}

                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Vidéo Premium</h7> </th>

                                    <td>{{ entity|number_format|replace(',',' ') }}</td>
                                    <td>1</td>
                                    <td>{{ entity|number_format|replace(',',' ') }}</td>

                                </tr>

                            {% endif %}

                            {% if entity == 3500 %}

                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;"> Vidéo Diffusion</h7> </th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>

                                </tr>

                            {% endif %}

                        {% endfor %}
                    {% endif %}

                    {% if  contenu['page']  %}

                        {% for entity in contenu['page'] %}

                            {% if entity == 2000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Page Web</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}

                            {% if entity == 3000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Pack Présence</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}
                            {% if entity == 4500 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Web</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}

                            {% if entity == 7000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Web +</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}

                            {% if entity == 9500 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Web Interactif</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}
                            {% if entity == 12000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">E-commerce</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}



                        {% endfor %}
                    {% endif %}

                    {% if  contenu['site_web']  %}

                        {% for entity in contenu['site_web'] %}

                            {% if entity == 7800 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Site Vitrine</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>
                                </tr>
                            {% endif %}

                            {% if entity == 10000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Site Catalogue</h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>
                                </tr>
                            {% endif %}

                            {% if entity == 20000 %}
                                <tr>
                                    <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Site Premium </h7></th>

                                    <td>{{ entity|number_format|replace(',',' ')  }}</td>
                                    <td>1</td>
                                    <td>{{entity|number_format|replace(',',' ')  }}</td>

                                </tr>
                            {% endif %}

                        {% endfor %}

                    {% endif %}

                </div>

                {% if affichage['thematique_name']==null and affichage['localite_name']==null and affichage['pro_du_jour']==null and affichage['promo']==null and affichage['vign_ac']==null and affichage['habil']==null and affichage['bann_up_engin']==null and affichage['bann_down_engin']==null and affichage['bann_up_customer']==null and affichage['bann_down_customer']==null   %}
                    <tr class="table-warning" style="display: none">
                        <th colspan="4" style="background-color: #ffdb2e;">Affichage</th>
                    </tr>
                {% else %}
                    <tr class="table-warning" >
                        <th colspan="4" style="background-color: #ffdb2e;">Affichage</th>
                    </tr>
                {% endif %}

                <div>
                    {% if affichage['thematique_name'] %}
                        <tr>
                            <th scope="row">Vignette Thématique sur :<h7 style="font-weight: 400;font-size: 16px;">{{ affichage['villes']|somme.libelle }}
                                    {#{% if affichage['regions'] =='L' %}Ma ville {% endif %}#}
                                    {% if affichage['regions'] =='0' %}Sa région{% endif %}
                                    {% if affichage['regions'] =='1' %}+1 régions {% endif %}
                                    {% if affichage['regions'] =='3' %}+3 régions{% endif %}
                                    {% if affichage['regions'] =='6' %}+6 régions{% endif %}
                                    {% if affichage['regions'] =='9' %}+9 régions{% endif %}</h7>

                            <td>{{ (affichage['thematique_name'])  }}</td>
                            <td>1</td>
                            <td>{{ (affichage['thematique_name']) }}</td>
                        </tr>
                    {% endif %}

                    {% if  affichage['localite_name']  %}

                        <tr>
                            <th scope="row">Vignette localité sur :<br>
                                <h7 style="font-weight: 400;font-size: 16px;">{% if affichage['cat1']  %}Casablanca -{% endif %}
                                    {% if affichage['cat2r']  %}Rabat -{% endif %}
                                    {% if affichage['cat2f']  %}Fés -{% endif %}
                                    {% if affichage['cat2ma']  %}Marrakech -{% endif %}<br>
                                    {% if affichage['cat2me']  %}Meknés -{% endif %}
                                    {% if affichage['cat2ag']  %}Agadir -{% endif %}
                                    {% if affichage['cat3k']  %}Kénitra -{% endif %}
                                    {% if affichage['cat3o']  %}Oujda -{% endif %}<br>
                                    {% if affichage['cat3e']  %}Essaouira -{% endif %}
                                    {% if affichage['cat3sa']  %}Safi -{% endif %}
                                    {% if affichage['cat3se']  %}Settat -{% endif %}
                                    {% if affichage['cat3te']  %}Tétouan -{% endif %}
                                    {% if affichage['cat4']  %}Autres villes -{% endif %}</h7>



                            </th>

                            <td>{{ affichage['localite_name'] }}</td>
                            <td>1</td>
                            <td>{{ affichage['localite_name'] }}</td>
                        </tr>
                    {% endif %}

                    {% if  affichage['pro_du_jour']  %}
                        {% if affichage['pro_du_jour']=='1' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Professionnels du jour 1 mois</h7></th>

                                <td>1 500</td>
                                <td>1</td>
                                <td>1 500</td>
                            </tr>
                        {% endif %}
                        {% if affichage['pro_du_jour']=='3' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Professionnels du jour 3 mois</h7></th>

                                <td>3 000</td>
                                <td>1</td>
                                <td>3 000</td>
                            </tr>
                        {% endif %}



                    {% endif %}

                    {% if  affichage['promo']  %}
                        {% if affichage['promo']=='1' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">1 Promo/an</h7></th>

                                <td>2 400</td>
                                <td>1</td>
                                <td>2 400</td>
                            </tr>
                        {% endif %}

                        {% if affichage['promo']=='2' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">3 Promo/an</h7></th>

                                <td>5 000</td>
                                <td>1</td>
                                <td>5 000</td>
                            </tr>
                        {% endif %}
                        {% if affichage['promo']=='3' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">6 Promo/an</h7></th>

                                <td>8 000</td>
                                <td>1</td>
                                <td>8 000</td>
                            </tr>
                        {% endif %}

                        {% if affichage['promo']=='4' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">12 Promo/an</h7></th>

                                <td>12 000</td>
                                <td>1</td>
                                <td>12 000</td>
                            </tr>
                        {% endif %}

                    {% endif %}

                    {% if  affichage['vign_ac']  %}

                        {% if affichage['vign_ac']=='V0' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Acceuil</h7></th>
                                <td>100</td>
                                <td>{{ affichage['vignette_acc_video_nbr'] }}</td>
                                <td>{{ (affichage['vignette_acc_video_nbr']* 100)  }}  </td>
                            </tr>
                        {% endif %}

                        {% if affichage['vign_ac']=='VV' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Video</h7></th>

                                <td>150</td>
                                <td>{{ affichage['vignette_acc_video_nbr'] }}</td>
                                <td>{{ (affichage['vignette_acc_video_nbr']* 150) }} </td>
                            </tr>
                        {% endif %}




                    {% endif %}

                    {% if  affichage['habil']  %}

                        {% if affichage['habil']=='1' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Habillage Jour</h7></th>

                                <td>4 000</td>
                                <td>1</td>
                                <td>4 000</td>
                            </tr>
                        {% endif %}

                        {% if affichage['habil']=='2' %}
                            <tr>
                                <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Habillage Semaine</h7></th>

                                <td>15 000</td>
                                <td>1</td>
                                <td>15 000</td>
                            </tr>
                        {% endif %}

                    {% endif %}

                    {% if affichage['bann_up_engin']=='80' %}
                        <tr>
                            <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Bannière En haut sur la page de résultats</h7></th>

                            <td>80/1 000</td>
                            <td>{{ (affichage['banniere_nombr'])  }}</td>
                            <td>{{ (affichage['banniere_nombr'] * 80)|number_format|replace(',',' ')  }}  </td>
                        </tr>
                    {% endif %}

                    {% if affichage['bann_down_engin']=='90' %}
                        <tr>
                            <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Bannière En bas sur la page de résultats</h7></th>
                            <td>90/1 000</td>
                            <td>{{ affichage['banniere_nombr'] }}</td>
                            <td>{{ (affichage['banniere_nombr'] * 90)|number_format|replace(',',' ') }}</td>
                        </tr>
                    {% endif %}

                    {% if affichage['bann_up_customer']=='150' %}
                        <tr>
                            <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Bannière En haut sur les fiches prospects</h7></th>

                            <td>150/1 000</td>
                            <td>{{ affichage['banniere_nombr'] }}</td>
                            <td>{{ (affichage['banniere_nombr'] * 150)|number_format|replace(',',' ') }}  </td>
                        </tr>
                    {% endif %}

                    {% if affichage['bann_down_customer']=='150' %}
                        <tr>
                            <th scope="row"><h7 style="font-weight: 500;font-size: 16px;">Bannière En bas sur les fiches prospects</h7></th>

                            <td>150/1 000</td>
                            <td>{{ affichage['banniere_nombr'] }}</td>
                            <td>{{ (affichage['banniere_nombr'] * 150)|number_format|replace(',',' ')  }}  </td>
                        </tr>
                    {% endif %}
                </div>

                {% if profession ==0 %}

                    <tr class="table-warning" style="display: none">
                        <th colspan="4" style="background-color: #ffdb2e;">Profession libérale</th>
                    </tr>
                {% else %}
                    <tr class="table-warning">
                        <th colspan="4" style="background-color: #ffdb2e;">Profession libérale</th>
                    </tr>
                {% endif %}

                <tr>
                    <th scope="row">Parcours et diplôme:<br/>
                        <h7 style="font-weight: 400;font-size: 16px;">
                        {{ profession['parcours_diplomes']|nl2br}}
                        </h7>


                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="row">Spécialités:<br/>
                        <h7 style="font-weight: 400;font-size: 16px;">
                        {{ profession['specialites']|nl2br}}
                        </h7>


                    <td></td>
                    <td></td>
                    <td></td>
                </tr>

                <tr>
                    <th scope="row">Services:<br/>
                        <h7 style="font-weight: 400;font-size: 16px;">
                        {{ profession['services']|nl2br}}
                        </h7>


                    <td></td>
                    <td></td>
                    <td></td>
                </tr>

                <tr>
                    <th scope="row"><strong>Rubrique Principale : </strong><br>
                        {#{% for rubrique in desrubref['rubrique'] %}
                        - <h7 style="font-weight: 500;font-size: 16px;">{{ rubrique.sel|rub.libelle }}</h7>
                        {% endfor %}#}
                        <div >
                            <h7 style="font-weight: 400;font-size: 16px;"> {#•&nbsp; #}{{ profession['rubrique']|rub.libelle }}</h7>
                        </div>
                    </th>

                    <td>-</td>
                    <td>1</td>
                    <td>-</td>
                </tr>

                <tr>
                    <th scope="row"><strong>Certifications : </strong><br>
                        {#{% for rubrique in desrubref['rubrique'] %}
                        - <h7 style="font-weight: 500;font-size: 16px;">{{ rubrique.sel|rub.libelle }}</h7>
                        {% endfor %}#}
                        <div >
                            <h7 style="font-weight: 400;font-size: 16px;">{{ profession['certifications'] }}</h7>
                        </div>
                    </th>

                    <td>-</td>
                    <td>1</td>
                    <td>-</td>
                </tr>

                <tr>
                    <th scope="row"><strong>Horaires d'ouverture : </strong><br>
                        {#{% for rubrique in desrubref['rubrique'] %}
                        - <h7 style="font-weight: 500;font-size: 16px;">{{ rubrique.sel|rub.libelle }}</h7>
                        {% endfor %}#}
                        <div >
                            <h7 style="font-weight: 400;font-size: 16px;"> {{ profession['first_day'] }} au {{ profession['second_day'] }} {{ profession['first_hour'] }} - {{ profession['second_hour'] }}</h7>
                        </div>
                    </th>

                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>


                <tr>
                    <th scope="row"><strong>Langues parlées : </strong></br>

                        {% if profession['langue']!=null  %}
                            <div >

                                {% for profession in profession['langue'] %}
                                    <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                        -&nbsp;{{ profession}}
                                    </h7>
                                {% endfor %}
                            </div>

                        {% endif %}
                    </th>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>

                <tr>
                    <th scope="row"><strong>Mode de paiement : </strong></br>

                        {% if profession['paiement']!=null  %}
                            <div >

                                {% for profession in profession['paiement'] %}
                                    <h7 style="font-weight: 400!important;font-size: 16px;!important;">
                                        -&nbsp;{{ profession}}
                                    </h7>
                                {% endfor %}
                            </div>

                        {% endif %}
                    </th>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>

                <tr>
                    <th scope="row"><strong>Lien vers réseaux sociaux : </strong><br>
                        {#{% for rubrique in desrubref['rubrique'] %}
                        - <h7 style="font-weight: 500;font-size: 16px;">{{ rubrique.sel|rub.libelle }}</h7>
                        {% endfor %}#}
                        <div >
                            <h7 style="font-weight: 400;font-size: 16px;"> {{ profession['socieux'] }} </h7>
                        </div>
                    </th>

                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>




                {% if profession['profession'] =='3000' %}
                    <tr>
                        <th scope="row">Visibilité sur:<br/>

                            <h7 style="font-weight: 400;font-size: 16px;">{{ profession['villesp']|somme.libelle}}</h7>


                        <td>1</td>
                        <td>{{ (profession['prix'])|number_format|replace(',',' ')   }}</td>
                        <td>{{ (profession['prix'])|number_format|replace(',',' ')   }}</td>
                    </tr>
                {% endif %}

                </tbody>
            </table>



            <table  border="1" style="border: 1px solid #dee2e6;margin-top: -17px;float: right;width: 44%;">

                <tr>

                    <td scope="row" class="pull-right" ><h7 style="font-weight: 500;font-size: 15px;">Montant H.T &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</h7></td>
                    <td  style="text-align: center;">
                        <input type="text" id="ht_net" value="{{ somme|number_format|replace(',',' ')  }}" style="display: none;">
                        <input type="text" id="ht_brut"  style=";color: black;border: white;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;" readonly /></td>

                </tr>

                <tr>


                    <td  class="visibilite-td" scope="row" class="pull-right "  style="color: #f36b60;display: none">
                        <h7 class="remise_th" style="font-weight: 500;font-size: 15px;">Remise en %</h7>
                        <h7 class=" montant_remise_th" style="font-weight: 500;font-size: 15px;margin-right: -9px;">Remise accordée</h7>
                        <h7 class="gratuite_th" style="font-weight: 500;font-size: 15px;margin-right: -9px;">Gratuité accordée</h7>
                    </td>
                    <td class="remise_th"  style="text-align: center;display: none"><input type="text" id="pourcent" {% if code['pourcentage'] %} value="{{ code['pourcentage'] }}" {% endif %}  style=";text-align: -webkit-center;font-weight: bold;width: 100px;border: white;height: 28px;float: right;" readonly />{#<label style="margin-left: -35px;height: 0px;margin-top: -9px;">%</label>#}</td>
                    <td class="montant_remise_th"  style="text-align: center;display: none"><input type="text" id="montant_remise4" {% if code['montant_remise']|number_format|replace(',',' ') %} value="{{ code['montant_remise']|number_format|replace(',',' ') }}" {% endif %}  style=";text-align: -webkit-center;font-weight: bold;width: 100px;border: white;height: 28px;" readonly /></td>
                    <td class="gratuite_th"  style="text-align: center;display: none"><input type="text" id="montant_remise3" {% if code['montant_remise']|number_format|replace(',',' ') %} value="{{ code['montant_remise']|number_format|replace(',',' ') }}" {% endif %}  style=";text-align: -webkit-center;font-weight: bold;width: 100px;border: white;height: 28px;" readonly /></td>

                </tr>

                <tr>
                    <td  class="visibilite_new_ht" scope="row" class="pull-right"  style="background-color: #f36b60;color: white;"><h7 style="font-weight: bold;font-size: 15px;">Nouveau Montant H.T </h7></td>

                    <td  class="remise_th" style="text-align: center;background-color: #f36b60 ;color: white;display: none" >         <input type="text" id="montant_r" {% if code['montant_r']|number_format|replace(',',' ') %} value="{{ code['montant_r']|number_format|replace(',',' ') }}" {% endif %}  style="background-color: #f36b60;color: white;border: #f36b60;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;" readonly /></td>

                    <td  class="montant_remise_th" style="text-align: center;background-color: #f36b60 ;color: white;display: none" > <input type="text" id="montant_rem" {% if code['montant_rem']|number_format|replace(',',' ') %} value="{{ code['montant_rem']|number_format|replace(',',' ') }}" {% endif %}  style="background-color: #f36b60;color: white;border: #f36b60;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;" readonly /></td>

                    <td  class="gratuite_th" style="text-align: center;background-color: #f36b60 ;color: white;display: none" >       <input type="text" id="new_ht" value="{{ (somme)|number_format|replace(',',' ')  }}" style="background-color: #f36b60;color: white;border: #f36b60;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;" readonly /></td>

                </tr>


                <tr>

                    <td scope="row" class="pull-right" ><h7 style="font-weight: 500;font-size: 15px;">T.V.A 20%</h7></td>
                    <input type="text" id="tva_brut" value="{{ (somme*0.2)|number_format|replace(',',' ') }}" style="display: none">

                    <td class="tva"  style="text-align: center;"><input type="text" id="tva"  style=";color: black;border: white;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;margin-left: 7px;" readonly /></td>


                </tr>


                <tr>

                    <td scope="row" class="pull-right" style="background-color: #dadada;" ><h7 style="font-weight: bold;font-size: 15px;">Montant T.T.C</h7></td>

                    <input type="text" id="ttc_net" value="{{ (somme)|number_format|replace(',',' ')  }}" style="display: none;">

                    <td class="ttc_brut" style="text-align: center;background-color: #dadada;"><input type="text" id="ttc_brut"  style=";color: black;border: white;text-align: -webkit-center;font-weight: bold;width: 100px;height: 28px;background-color: #dadada;" readonly /></td>



                </tr>
            </table>

            <div style="width: auto;margin-top: 179px;">

                <h6 class="promo_remise" style="font-weight: 400;"> Remise accordée sur <span style="font-weight: 600;" id="nature_contenu_remise" >{{ code['nature_remise'] }} </span> de <span style="font-weight: 600;" id="montant_remise_remise">{{ code['montant_remise']|number_format|replace(',',' ') }}</span> <span style="font-weight: 600;">MAD.</span></h6>
                <h6 class="promo_gratuite" style="font-weight: 400;">Gratuité accordée sur <span style="font-weight: 600; " id="nature_contenu_gratuite">{{ code['nature_remise'] }} </span> de <span style="font-weight: 600;" id="montant_remise_gratuite">{{ code['montant_remise']|number_format|replace(',',' ') }}</span> <span style="font-weight: 600;">MAD.</span>
                </h6>
            </div>


            <div class="col-lg-12">
                <div  class="row" style=";margin-top: 30px;" >
                    <div class="col-xs-4 hrefpdf">
                        <a href="{{ path('facture') }}" target="_blank" class="btn  btn-sx pdf" type="button" style="width: 200px!important;margin-left: -8px;font-weight: bold;">Télécharger PDF</a>
                    </div>
                    <div class="col-xs-4">
                        <button class="btn  btn-xs modalite " type="button" onclick="showhide_m()" style="font-weight: bold;">Modalité de paiement <img class="white-triangle1" src="{{ asset('white-triangle.png') }}" ></button>
                    </div>
                    <div class="col-xs-4">
                        <button class="btn  btn-xs coderp" type="button" onclick="showhide_c()" style="width: 200px!important;margin-left: -5px;font-weight: bold;">Code R/P  <img class="white-triangle1" src="{{ asset('white-triangle.png') }}" ></button>
                    </div>
                </div>
            </div>

            <div style="display: none" id="modalite">
                <div class="col-lg-12">
                    <div class="row" >
                        <div class="col-xs-4 ">
                            <button class="btn  btn-xs modalite " type="button" style=" margin-top: 53px;">Modalité de paiement </button>
                        </div>

                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="row" style="margin-top: 20px">
                        <div class="col-xs-4">
                            <button class="btn  btn-xs modalite " id="modalite_preconise" type="button" style="margin-left: -1px;float: left;background-color: black;color: white;width: 308px;text-align: center;font-size: 17px!important;font-weight: bold;margin-top: -22px;" onclick="showhide_p()">Modalité de paiement préconisée <img class="white-triangle1" src="{{ asset('white-triangle.png') }}" ></button>

                            <div style="display: none" id="preconise">
                                <label class="montantttc" > Montant TTC à payer:<input type="text" name="montantttc_preconise" id="montantttc_preconise" value="{{ (somme+(somme*0.2))|number_format|replace(',',' ') }}" readonly/></label><br>
                                <label class="label_preconise">Acompte:<span style="margin-left: 72px;">25%</span>&nbsp;<input type="text" name="accompte_preconise" id="accompte_preconise"  readonly/></label><br>
                                <label class="label_preconise">Reste à payer:<input type="text" name="reste_preconise" id="reste_preconise"  readonly/></label><br>
                                <label class="label_preconise">Nombre de paiement:<input type="text" name="nbr_preconise" id="nbr_preconise" value="3"  readonly/></label><br>
                                <label class="label_preconise">Montant:<span style="margin-left: 75px;">25%</span>&nbsp;<input type="text" name="montant1_preconise" id="montant1_preconise"  readonly/></label><br>
                                <label class="label_preconise"><span style="margin-left: 135px;">25%</span>&nbsp;<input type="text" name="montant2_preconise" id="montant2_preconise" readonly/></label><br>
                                <label class="label_preconise"><span style="margin-left: 135px;">25%</span>&nbsp;<input type="text" name="montant3_preconise" id="montant3_preconise"  readonly/></label><br>
                                <label class="label_preconise">date d'échéance:<input type="date" name="dateP1_preconise" id="dateP1_preconise"  readonly/></label><br>
                                <label class="label_preconise"><input type="date" name="dateP2_preconise" id="dateP2_preconise"  readonly/></label><br>
                                <label class="label_preconise"><input type="date" name="dateP3_preconise" id="dateP3_preconise"  readonly/></label><br>

                            </div>
                        </div>
                        <div class="col-xs-4">
                            <button class="btn  btn-xs modalite " id="autre_modalite" type="button">Autre modalité de paiement </button>
                            <div style="margin-left: 100px;margin-top: 48px;">
                                <form id="modalite">
                                    <label class="mttc"> <input  type="text" name="montantttc_stock" id="montantttc_stock" value="{{ somme|number_format|replace(',',' ') }} "readonly style="display: none"/></label><br>
                                    <label class="mttc"> Montant TTC à payer:<input class="modalites ttc" type="text" name="montantttc_modalite" id="montantttc_modalite" value="" readonly/></label><br>
                                    <label  class="label_autre test">Acompte:<input class="modalites" type="text" name="accompte" id="accompte" {% if paiement['accompte']|number_format|replace(',',' ') %}value="{{ paiement['accompte']|number_format|replace(',',' ') }}"  {% endif %} /></label><br>
                                    <label class="label_autre">Reste à payer:<input class="modalites" type="text" name="reste" id="reste" {% if paiement['reste'] %}value="{{ paiement['reste'] }}" {% endif %} value="{{ (somme+(somme*0.2))|number_format|replace(',',' ') }}"  readonly/></label><br>
                                    <label class="label_autre test">Nombre de paiement:<input class="modalites" type="text" name="nbr" id="nbr" max="3" min="0"  {% if paiement['nbr'] %}value="{{ paiement['nbr'] }}" {% endif %} /></label><br>
                                    <label class="label_autre">Montant:<input class="modalites" type="text" name="montant1" id="montant1" {% if paiement['montant1'] %} value="{{ paiement['montant1'] }}" {% endif %} /></label><br>
                                    <label class="label_autre">        <input class="modalites" type="text" name="montant2" id="montant2" {% if paiement['montant2'] %} value="{{ paiement['montant2'] }}" {% endif %} /></label><br>
                                    <label class="label_autre">        <input class="modalites" type="text" name="montant3" id="montant3" {% if paiement['montant3'] %} value="{{ paiement['montant3'] }}" {% endif %} /></label><br>
                                    <label class="label_autre">Date d'échéance:<input class="modalites" type="date" name="dateP1" id="dateP1" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %}/></label><br>
                                    <label class="label_autre">                <input class="modalites" type="date" name="dateP2" id="dateP2" {% if paiement['dateP2'] %} value="{{ paiement['dateP2'] }}" {% endif %} /></label><br>
                                    <label class="label_autre">                <input class="modalites" type="date" name="dateP3" id="dateP3" {% if paiement['dateP3'] %} value="{{ paiement['dateP3'] }}" {% endif %} /></label><br>

                                    {#<label class="label_autre"><input type="date">dddd</label>#}
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div style="display: none" id="code">
                <div class="col-lg-12">
                    <div class="row code_r_p" style="margin-top: 51px;">
                        <div class="col-xs-4 ">
                            <button class="btn  btn-xs coderp" type="button" style="">Code R/P</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="row" style="margin-top: 20px">
                        <div >
                            <button class="btn  btn-xs modalite remise_montant " type="button" >Remise en montant </button>
                            <div >
                                <label></label>
                                <label class="label_nture_remise"  >Nature de la remise</label>
                                <label class="checkbox-inline" id="r_m" >
                                    <input class="code-rp checkbox checkbox_offre remise modalites "   type="checkbox" name="offre" id="offre" value="remise" {% if code['offre'] =='remise' %} checked  {% endif %} >Remise en montant
                                </label><br>
                                <label class="checkbox-inline" id="r_g" >
                                    <input class="code-rp checkbox_offre checkbox gratuite modalites"   type="checkbox" name="offre" id="offre" value="gratuite" {% if code['offre'] =='gratuite' %} checked  {% endif %} >Gratuité
                                </label><br>
                                <label class="label_descriftif_offre"> <span>Descriptif de l'offre</span><input class="code-rp nature_remise" name="nature_remise" id="nature_remise" {% if code['nature_remise']  %}  value="{{ code['nature_remise'] }}" {% endif %} type="text" />
                                </label><br>

                                <label  class="test" id="r_montant"> Montant

                                    <input class="code-rp montant_remise modalites " name="montant_remise" id="montant_remise" type="text"{% if code['montant_remise']|number_format|replace(',',' ')  %}  value="{{ code['montant_remise']|number_format|replace(',',' ') }}" {% endif %} />

                                </label>

                            </div>
                        </div>

                        <div class="col-xs-4">
                            <button class="btn  btn-xs modalite remise_en_pourcentage " type="button" style="">Remise en % </button>
                            <div style="/*margin-left: 100px;*/">
                                <label class="checkbox-inline " id="r_p">
                                    <input class="code-rp checkbox_offre  remise_pourcentage modalites"   type="checkbox" name="offre" onchange="valueChanged()" id="offre" value="remise_pourcentage" {% if code['offre'] =='remise_pourcentage' %} checked  {% endif %} >Remise en %
                                </label><br>
                                <label id="input_pourcentage test" style="margin-top: 9px;"><input type="text" class="code-rp pourcentage modalites" name="pourcentage" id="pourcentage" {% if code['pourcentage']  %}  value="{{ code['pourcentage'] }}"{% endif %}/></label><br>
                            </div>
                        </div>

                    </div>
                </div>
            </div>



            <br><br><br><br>

            {# <section  id="fond-14" align="center">

                    <div class=" row" style="display: -webkit-inline-box!important;">
                        <div class=" titre col" align="center" style=" ">
                            <p class="text-uppercase">modalité de paiement</p>
                        </div>
                    </div>
                    <br><br><br>
                    <div class="row texte">
                        <div class="col-md-12 col-sm-12 col-xs-12"align="center" >

                            <form >


                                <div class="form-group row">
                                    <label class="col-md-6 col-xs-6 col-sm-6" align="left" style="margin-top: 10px;margin-left: -73px;">Montant TTC à payer :</label>
                                    <div class="col-md-6 col-xs-6 col-sm-6" id="test">
                                        <input  class="form-control" name="montantttc" id="montantttc" value="{{ (somme+(somme*0.2))|number_format|replace(',',' ') }}"  style="font-weight: 600;" readonly >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label  class="col-md-6 col-xs-6 col-sm-6" align="left" style="margin-top: 10px;margin-left: -73px;">Accompte :</label>
                                    <div class="col-md-6 col-xs-6 col-sm-6 test " id="test">
                                        <input type="text" class="form-control clor" name="accompte" id="accompte" {% if paiement['accompte'] %}value="{{ paiement['accompte'] }}"  {% endif %}  style="font-weight: 600;">
                                        <span   id="sp" style="color: red; width: 427px;font-size: 15px;"></span>
                                        <div class="valid-feedback feedback-icon">
                                            <i class="fa fa-check"></i>
                                        </div>

                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label  class="col-md-6 col-xs-6 col-sm-6" align="left" style="margin-top: 10px;margin-left: -73px;">Reste à payer :</label>
                                    <div class="col-md-6 col-xs-6 col-sm-6 test" id="test">
                                        <input type="text" class="form-control" name="reste" id="reste" {% if paiement['reste'] %}value="{{ paiement['reste'] }}" {% endif %} value="{{ (somme+(somme*0.2))|number_format|replace(',',' ') }}"  style="font-weight: 600;" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label  class="col-md-6 col-xs-6 col-sm-6" align="left" style="margin-top: 10px;margin-left: -73px;">Nombre de paiement :</label>
                                    <div class="col-md-6 col-xs-6 col-sm-6 " id="test">
                                        <input type="number" class="form-control " name="nbr" id="nbr" max="3" min="0"  {% if paiement['nbr'] %}value="{{ paiement['nbr'] }}" {% endif %}style="font-weight: 600;">
                                    </div>
                                </div>


                                <div class="form-group row">
                                    <label  class="col-md-4 col-xs-4 col-sm-4" align="left" style="margin-top: 20px;margin-left: -73px;">Montant :</label>
                                    <div class="form-inline col-md-8 col-xs-8 col-sm-8 t " id="test">

                                        <input type="text" class="form-control" name="montant1" id="montant1" {% if paiement['montant1'] %} value="{{ paiement['montant1'] }}" {% endif %} style="width: 22%;font-size: 16px;margin-left: 127px/*-93px*/;display: none;font-weight: 600;" readonly>
                                        <input type="text" class="form-control" name="montant2" id="montant2" {% if paiement['montant2'] %} value="{{ paiement['montant2'] }}" {% endif %} style="width: 22%; margin-left: 3px;font-size: 16px;display: none;font-weight: 600;" readonly>
                                        <input type="text" class="form-control" name="montant3" id="montant3" {% if paiement['montant3'] %} value="{{ paiement['montant3'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 16px;display: none;font-weight: 600;" readonly>
                                       #}{# <input type="text" class="form-control" name="montant4" id="montant4" {% if paiement['montant4'] %} value="{{ paiement['montant4'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 16px;display: none;font-weight: 600;" readonly>
                                        <input type="text" class="form-control" name="montant5" id="montant5" {% if paiement['montant5'] %} value="{{ paiement['montant5'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 16px;display: none;font-weight: 600;" readonly>#}{#
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label  class="col-md-4 col-xs-4 col-sm-4" align="left" style="margin-top: 20px;margin-left: -73px">Date d'échéance :</label>
                                    <div class="form-inline col-md-8 col-xs-8 col-sm-8" id="test">
                                        <input type="date" class="form-control" name="dateP1" id="dateP1" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %} style="width: 22%;font-size: 12px;margin-left: 127px/*-93px*/;font-weight: 600;display: none">
                                        <input type="date" class="form-control" name="dateP2" id="dateP2" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %} style="width: 22%; margin-left: 3px;font-size: 12px;font-weight: 600;display: none">
                                        <input type="date" class="form-control" name="dateP3" id="dateP3" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 12px;font-weight: 600;display: none">
                                        #}{#<input type="date" class="form-control" name="dateP4" id="dateP4" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 12px;font-weight: 600;display: none">
                                        <input type="date" class="form-control" name="dateP5" id="dateP5" {% if paiement['dateP1'] %} value="{{ paiement['dateP1'] }}" {% endif %} style="width: 22%; margin-left: 9px;font-size: 12px;font-weight: 600;display: none">#}{#
                                    </div>
                                </div>
                                #}{#<input type="number" id="echeance"/><input type="number" id="paiement"/>#}{#
                                #}{# <div class="form-group" >
                                     <button type="button" id="test" class="btn btn-info"  style=" color: #000;background-color: #ffdb2e;border-color: #ffdb2e;margin-top: -37px;margin-left: 337px;;position: absolute;">
                                         test
                                     </button>
                                 </div>#}{#
                            </form>

                            <button type="button" id="now" class="btn valider  " #}{#onclick="showhide_c()" style="display: none"#}{#>Valider</button>

                        </div>
                    </div>
                </section>#}

            <br><br><br><br>

            <form action="{{ path('referencement_commande_devis_fn_pdf') }}" method="post">
                {#<label>Envoyer le devis&nbsp; &nbsp;</label><input class="email"  id="email" name="email_ad" placeholder="E-mail" type="email" required />&nbsp; &nbsp;
                {#<button type="submit" id="bnk"  class="envoyer" >Envoyer</button>#}



                <div class="form-group col-md-8" style="/*margin-left: 169px*/;margin-top: -132px;">
                    <label style="/*margin-left: 167px;*/">Joindre un document PDF </label> :<br /><br />
                    <div align="center">
                        <div class="form-inline" style="line-height: 2;">
                            <div class="form-group " >
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Baniere">&nbsp;Baniere TLC
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre">
                                    <input type="checkbox" name="joindre" value="Carte">&nbsp;Carte visite
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Espace">&nbsp;Espace Promo
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Habillage">&nbsp;Habillage
                                </label>
                            </div>
                        </div>

                        <div class="form-inline" style="line-height: 3;">
                            <div class="form-group " >
                                <label class="checkbox-inline joindre"  >
                                    <input type="checkbox" name="joindre" value="Marques">&nbsp;Marques
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Prestation">&nbsp;Prestation
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Professionnels">&nbsp;Professionnels du jour
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre">
                                    <input type="checkbox" name="joindre" value="Rubrique">&nbsp;Rubrique
                                </label>
                            </div>
                        </div>
                        <div class="form-inline" >
                            <div class="form-group " >
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Video">&nbsp;Video
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre"  >
                                    <input type="checkbox" name="joindre" value="Vignette_vid">&nbsp;Vignette Accueil Video
                                </label>&nbsp;&nbsp;&nbsp;

                                <label class="checkbox-inline joindre"  >
                                    <input type="checkbox" name="joindre" value="Vignette_lo">&nbsp;Vignette localite
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="Vignette_th">&nbsp;Vignette thématique
                                </label>
                            </div>
                        </div>

                        <div class="form-inline" >
                            <div class="form-group " >
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="site_internet">&nbsp;Site internet
                                </label>&nbsp;&nbsp;&nbsp;

                            </div>
                            <div class="form-group " >
                                <label class="checkbox-inline joindre" >
                                    <input type="checkbox" name="joindre" value="profession">&nbsp;Profession libérale
                                </label>&nbsp;&nbsp;&nbsp;

                            </div>
                        </div>

                    </div>
                </div>
                <br /><br />
                <div class="form-group col-md-8" style="/*margin-left: 169px*/;margin-top: -24px;">
                    <div class="form-inline" >
                        <div class="form-group " >
                            <label class="checkbox-inline header" >
                                <input type="checkbox" class="visbilite_header proposition" name="visbilite_header" id="visbilite_header" {% if visbilite_header['visbilite_header'] =='proposition' %} checked  {% endif %} value="proposition">&nbsp;Proposition
                            </label>&nbsp;&nbsp;&nbsp;

                            {% if (app.user.groupe == 'televente' )  %}
                                <label class="checkbox-inline header" >
                                    <input type="checkbox" class="visbilite_header bon_commande" name="visbilite_header" id="visbilite_header" {% if visbilite_header['visbilite_header'] =='bon_commande' %} checked  {% endif %} value="bon_commande">&nbsp;Bon de commande
                                </label>&nbsp;&nbsp;&nbsp;

                                <label class="checkbox-inline header reglement " style="display:none;">
                                    <input type="checkbox" name="joindre" id="joindre" value="reguelement">&nbsp;Conditions Générales de Vente
                                </label>
                            {% elseif (app.user.id == '4' or app.user.id == '65' )  %}
                                <label class="checkbox-inline header" >
                                    <input type="checkbox" class="visbilite_header v_reguelemnt" name="visbilite_header" id="visbilite_header" {% if visbilite_header['visbilite_header'] =='devis' %} checked  {% endif %} value="devis">&nbsp;Ordre d'insertion
                                </label>&nbsp;&nbsp;&nbsp;
                                <label class="checkbox-inline header" >
                                    <input type="checkbox" class="visbilite_header bon_commande" name="visbilite_header" id="visbilite_header" {% if visbilite_header['visbilite_header'] =='bon_commande' %} checked  {% endif %} value="bon_commande">&nbsp;Bon de commande
                                </label>&nbsp;&nbsp;&nbsp;

                                <label class="checkbox-inline header reglement " style="display:none;">
                                    <input type="checkbox" name="joindre" id="joindre" value="reguelement">&nbsp;Conditions Générales de Vente
                                </label>
                            {% elseif (app.user.groupe != 'televente'  ) %}
                                <label class="checkbox-inline header" >
                                    <input type="checkbox" class="visbilite_header v_reguelemnt" name="visbilite_header" id="visbilite_header" {% if visbilite_header['visbilite_header'] =='devis' %} checked  {% endif %} value="devis">&nbsp;Ordre d'insertion
                                </label>&nbsp;&nbsp;&nbsp;

                            {% endif %}

                        </div>
                    </div>
                </div>
                {% if contenu['catalogue']==null and contenu['catalogue_ref']==null and contenu['video']==null and contenu['page']==null and contenu['site_web']==null and affichage['thematique_name']==null and affichage['localite_name']==null and affichage['pro_du_jour']==null and affichage['promo']==null and affichage['vign_ac']==null and affichage['habil']==null
                and affichage['bann_up_engin']==null and affichage['bann_down_engin']==null and affichage['bann_up_customer']==null and affichage['bann_down_customer']==null and referencement['regions_sup']==null and referencement['raniad']==null and referencement['rubd']==null and referencement['prest']==null and referencement['mari']==null %}

                    <div >
                        <label style="margin-left: 179px">Envoyer le devis&nbsp; &nbsp;</label><input class="email"  id="email_a" name="email_ad" placeholder="E-mail" type="email" required />&nbsp; &nbsp;
                        <a  type="submit" id="proposition" class="envoyer_a send_email_"  disabled  onclick="prosition()">Envoyer</a>
                        <a  type="submit" id="devis" class="envoyer_a send_email_" style="display: none" disabled onclick="devis()">Envoyer</a>
                        <a  type="submit" id="bon_commande" class="envoyer_a send_email_" style="display: none" disabled onclick="bon_commande()">Envoyer</a>
                        {# <button type="button" id="now" class="btn valider  "  >Valider</button>#}
                    </div>
                {% else %}
                    <div >
                        <label style="margin-left: 179px">Envoyer le devis&nbsp; &nbsp;</label><input class="email"  id="email" name="email_ad" placeholder="E-mail" type="email" required />&nbsp; &nbsp;
                        <a  type="submit"  id="proposition_test_envoi"  class="envoyer_a send_email_ proposition_btn_test_envoi"  onclick="alert('Veuillez spécifier le document à envoyer');">Envoyer</a>
                        <button type="submit" id="proposition"  class="envoyer send_email_ proposition_btn"  style="display: none;">Envoyer</button>
                        <button type="submit" id="devis"  class="envoyer send_email_ devis_btn" style="display: none" >Envoyer</button>
                        <button type="submit" id="bon_commande"  class="envoyer send_email_ bon_commande_btn" style="display: none" >Envoyer</button>
                        {# <button type="button" id="now" class="btn valider  "  >Valider</button>#}
                    </div>
                {% endif %}
            </form>

            <br><br>
            <div style="width: 809px;/*margin-left: 114px*/">
                <h6>NB : <span id="devis_text">Devis</span><span id="bn_commande_text" style="display: none">Bon de commande</span><span id="ordre_insertion" style="display: none">Ordre d'insertion</span>
                    valable jusqu’au {{ 'now' |date_modify("+15 day")|date("d/m/Y") }}  </h6>
            </div>


            {# <div style="width: 809px;margin-left: 114px">
                <h6>En l'attente de votre confirmation, veillez agréer Monsieur l'expression de nos salutations les plus sincères</h6>
                <h6>NB : Devis valable jusqu’au {{ 'now' |date_modify("+15 day")|date("d/m/y") }}  </h6>
            </div>#}
            <div class="row">
                <img  src="{{ asset('Image-12.jpg') }}" class="img-fluid" alt="proposition de visibilité telecontact" style=" height: 100px;">
            </div>
        </div>


    </div>
    <div class="col-sm-2" {#style="background-color:lavender;"#}></div>
</div>
</div>

</body>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.1.62/jquery.inputmask.bundle.js"></script>

<script>

    /*$(document).on('change keyup keydown','#dateP1',function()
     {

     var phones = [{ "mask": " ##/##/####"}];
     $('#dateP1').inputmask({
     mask: phones,
     });
     });
     $(document).on('change keyup keydown','#dateP2',function()
     {

     var phones = [{ "mask": " ##/##/####"}];
     $('#dateP2').inputmask({
     mask: phones,
     greedy: false,
     definitions: { '#': { validator: "[0-9]", cardinality: 1}} });
     });
     $(document).on('change keyup keydown','#dateP3',function()
     {

     var phones = [{ "mask": " ##/##/####"}];
     $('#dateP3').inputmask({
     mask: phones,
     greedy: false,
     definitions: { '#': { validator: "[0-9]", cardinality: 1}} });
     });*/


    function prosition() {
        alert("Impossible d'envoyer un devis vide!");
    }

    function devis() {
        alert("Impossible d'envoyer un ordre d'insertion vide!");
    }

    function bon_commande() {
        alert("Impossible d'envoyer un bon de commande vide!");
    }

    $("#nature_remise").keyup(function() {
        var val = $(this).val();
        $("#nature_contenu_gratuite").html(val);
        $("#nature_contenu_remise").html(val);
    });

    $('#nbr').on("keydown keyup change", function (){
        var nbr =$('input[name=nbr]').val();
        for(i=nbr;i <= nbr;i++)
            $('#echeance').val(i);
        i++;
    });

    $(window,'.remise,gratuite').on(" change load  ", function() {
        if($('.gratuite').is(":checked") || $('.remise').is(":checked"))
        {
            $(".montant_remise").show();
        }else
        {
            $(".montant_remise").hide();
            document.getElementById('montant_remise').value = 0;
        }
    });

    $(window,'.remise,gratuite').on(" change load  ", function() {
        if ($('.gratuite').is(":checked") || $('.remise').is(":checked")) {
            $(".nature_remise").show();
        }else
        {
            $(".nature_remise").hide();
            document.getElementById('nature_remise').value = null;
        }
    });

    $(window,'.remise_pourcentage').on(" change load  ", function() {
        if($('.remise_pourcentage').is(":checked"))
        {
            $(".pourcentage").show();
        }
        else
        {
            $(".pourcentage").hide();
            document.getElementById('pourcentage').value = 0;
        }

    });

    $('.checkbox_offre').on('change', function() {
        $('.checkbox_offre').not(this).prop('checked', false);
    });

    function showhide_m()
    {
        var div = document.getElementById("modalite");
        if (div.style.display == "none") {
            div.style.display = "block";
        }
        else {
            div.style.display = "none";
        }
    }

    function showhide_c()
    {
        var div = document.getElementById("code");
        if (div.style.display == "none") {
            div.style.display = "block";
        }
        else {
            div.style.display = "none";
        }
    }

    function showhide_p()
    {
        var div = document.getElementById("preconise");
        if (div.style.display == "none") {
            div.style.display = "block";
        }
        else {
            div.style.display = "none";
        }
    }
    (function($, undefined) {

        "use strict";

        // When ready.
        $(function() {

            var $form = $( ".test" );
            var $input = $form.find( "input" );

            $input.on( "keyup", function( event ) {
                // When user select text in the document, also abort.
                var selection = window.getSelection().toString();
                if ( selection !== '' ) {
                    return;
                }

                // When the arrow keys are pressed, abort.
                if ( $.inArray( event.keyCode, [38,40,37,39] ) !== -1 ) {
                    return;
                }
                var $this = $( this );

                // Get the value.
                var input = $this.val();

                var input = input.replace(/[\D\s\._\-]+/g, "");
                input = input ? parseInt( input, 10 ) : 0;

                $this.val( function() {
                    return ( input === 0 ) ? "" : input.toLocaleString( "MAD" );
                } );
            } );

        });
    })(jQuery);
    /* $(window).on('load',  function () {
     if(($(".remise").is(":checked")))
     {
     var montant_rem = $("#montant_rem").val();
     document.getElementById('montantttc_stock').value = montant_rem;
     } else if(($(".remise_pourcentage").is(":checked")))
     {
     var montant_r = $("#montant_r").val();
     document.getElementById('montantttc_stock').value = montant_r;
     }else
     {
     var montantttc_modalite = $("#montantttc_stock").val();
     document.getElementById('montantttc_stock').value = montantttc_modalite;
     }

     });
     */

    /*$(document).on('click',  function () {

     $('.loaders').css('display','');
     if(($(".remise").is(":checked"))) {
     var montantttc_modalite = $("#ttc_brut").val();
     var accompte1 = $("#accompte").val().replace(/[^0-9\.]/g, '');
     var accompte = accompte1.replace(/[^0-9\.]/g, '');
     var reste = $('input[name=reste]').val().replace(/[^0-9\.]/g, '');
     console.log('resttttttttttttttttttttttttt', reste);
     var nbr = $("#nbr").val();
     var montant1 = $("#montant1").val().replace(/[^0-9\.]/g, '');
     var montant2 = $("#montant2").val().replace(/[^0-9\.]/g, '');
     var montant3 = $("#montant3").val().replace(/[^0-9\.]/g, '');
     var dateP1 = $("#dateP1").val();
     var dateP2 = $("#dateP2").val();
     var dateP3 = $("#dateP3").val();
     var data_send = {'montantttc': montantttc_modalite,'accompte': accompte1,'reste': reste,'nbr': nbr,'montant1': montant1,'montant2': montant2,'montant3': montant3,'dateP1': dateP1,'dateP2': dateP2, 'dateP3': dateP3};
     }
     else if(($(".remise_pourcentage").is(":checked")))
     {
     var montantttc_modalite = $("#ttc_brut").val();
     /!*alert(montantttc_modalite);*!/
     var accompte1 = $("#accompte").val().replace(/[^0-9\.]/g, '');
     var accompte = accompte1.replace(/[^0-9\.]/g, '');
     var reste = $('input[name=reste]').val().replace(/[^0-9\.]/g, '');
     console.log('resttttttttttttttttttttttttt', reste);
     var nbr = $("#nbr").val();
     var montant1 = $("#montant1").val().replace(/[^0-9\.]/g, '');
     var montant2 = $("#montant2").val().replace(/[^0-9\.]/g, '');
     var montant3 = $("#montant3").val().replace(/[^0-9\.]/g, '');
     var dateP1 = $("#dateP1").val();
     var dateP2 = $("#dateP2").val();
     var dateP3 = $("#dateP3").val();
     /!*alert(reste);*!/
     var data_send = {'montantttc': montantttc_modalite,'accompte': accompte1,'reste': reste,'nbr': nbr,'montant1': montant1,'montant2': montant2,'montant3': montant3,'dateP1': dateP1,'dateP2': dateP2, 'dateP3': dateP3};
     }
     else
     {
     var montantttc_modalite = $("#ttc_brut").val();
     /!*alert(montantttc_modalite);*!/
     var accompte1 = $("#accompte").val().replace(/[^0-9\.]/g, '');
     var accompte = accompte1.replace(/[^0-9\.]/g, '');
     var reste = $('input[name=reste]').val().replace(/[^0-9\.]/g, '');
     console.log('resttttttttttttttttttttttttt', reste);
     var nbr = $("#nbr").val();
     var montant1 = $("#montant1").val().replace(/[^0-9\.]/g, '');
     var montant2 = $("#montant2").val().replace(/[^0-9\.]/g, '');
     var montant3 = $("#montant3").val().replace(/[^0-9\.]/g, '');
     /!*alert(montant3);*!/
     var dateP1 = $("#dateP1").val();
     var dateP2 = $("#dateP2").val();
     var dateP3 = $("#dateP3").val();
     var data_send = {'montantttc': montantttc_modalite,'accompte': accompte1,'reste': reste,'nbr': nbr,'montant1': montant1,'montant2': montant2,'montant3': montant3,'dateP1': dateP1,'dateP2': dateP2, 'dateP3': dateP3};
     }

     $.ajax({
     url: '{{ path('referencement_commande_devis_paiement') }}',
     type: 'POST',
     data: data_send,
     statusCode: {
     //traitement en cas de succès
     200: function (response) {
     var successMessage = response;
     console.log(successMessage);
     /!*  $('#prestation').children("option").remove();*!/
     //on vide les champs formulaires ou on le supprime ou ...
     //on retire le loader...
     //                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
     $('.loaders').css('display','none');

     },
     //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
     412: function (response) {
     var errorsForm = response.responseJSON.formErrors;
     //on affiche les erreurs...
     alert('error');

     }
     }
     });
     });*/

    /*  $(window).load(function () {

     $('.loaders').css('display', '');

     var mont_ttc = $("#montantttc_stock").val();
     alert(mont_ttc);
     var montant_remise = $("#montant_remise").val();
     var montant_remise1 = $("#montant_remise").val().replace(/[^0-9\.]/g, '');
     var pourcentage = $("#pourcentage").val();
     var montantttcc = $('input[name=montantttc]').val();
     var m_ttc = parseInt(montantttcc.replace(/[^0-9\.]/g, ''));
     var pourcentage = parseInt($('input[name=pourcentage]').val());
     var montant_r = (m_ttc - (m_ttc * (pourcentage / 100))).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
     var montant_rem = (m_ttc - montant_remise1).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
     if ($('input.remise:checked')) {
     document.getElementById('montantttc').value = montant_rem;
     } else if ($('input[name=pourcentage]')) {
     document.getElementById('montantttc').value = montant_r;
     }
     else {
     document.getElementById('montantttc').value = mont_ttc;
     }
     });*/

    $(window,document).on('load', function () {


        /*$('.loaders').css('display', '');*/
        var nature_remise = $("#nature_remise").val();
        var tva_brut = $("#tva_brut").val().replace(/[^0-9\.]/g, '');
        var ttc_net = $("#ttc_net").val().replace(/[^0-9\.]/g, '');

        var ht_net = $("#ht_net").val().replace(/[^0-9\.]/g, '');

        var montantttcc1 = $("#montantttc_stock").val();
        var montantttcc = $("#montantttc_stock").val().replace(/[^0-9\.]/g, '');
        var montant_remise = $("#montant_remise").val();
        var montant_remise1 = $("#montant_remise").val().replace(/[^0-9\.]/g, '');
        var offre = $('input[name=offre]:checked').val();
        var pourcentage = $("#pourcentage").val();
        /*var montantttcc       = $('input[name=montantttc]').val();*/
        var m_ttc = parseInt(montantttcc.replace(/[^0-9\.]/g, ''));
        var pourcentage = parseInt($('input[name=pourcentage]').val());
        var montant_r         =parseInt(m_ttc-(m_ttc*(pourcentage/100)));
        var montant_rem = parseInt(m_ttc - montant_remise1);
        var tva_r_p = parseInt((montant_r)*0.2);
        var tva_r_m = parseInt((montant_rem)*0.2);
        var ttc_r_m = parseInt(montant_rem)  + parseInt(tva_r_m);
        var ttc_r_p = parseInt(montant_r)  + parseInt(tva_r_p);
        var ttc_brut =parseInt(tva_brut)+ parseInt(ttc_net);
        var ht_brut =parseInt(ht_net)+ parseInt(montant_remise1);


        if (($(".remise").is(":checked"))) {
            document.getElementById('montantttc_preconise').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('tva').value = tva_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");


        }
        else if (($(".remise_pourcentage").is(":checked"))) {
            document.getElementById('montantttc_preconise').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('tva').value = tva_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }
        else if (($(".gratuite").is(":checked"))) {
            document.getElementById('ht_brut').value = ht_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('tva').value = tva_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }


        else {
            document.getElementById('montantttc_preconise').value = montantttcc1;
            document.getElementById('montantttc_modalite').value = montantttcc1;
            document.getElementById('tva').value = tva_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }

        document.getElementById('montant_r').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        document.getElementById('montant_rem').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
    });

    $(document).on('keydown keyup change', '.code-rp,.remise,.gratuite,.remise_pourcentage', function () {

        /*$('.loaders').css('display','');*/
        var nature_remise     =  $("#nature_remise").val();
        var tva_brut = $("#tva_brut").val().replace(/[^0-9\.]/g, '');

        var ttc_net = $("#ttc_net").val().replace(/[^0-9\.]/g, '');

        var ht_net = $("#ht_net").val().replace(/[^0-9\.]/g, '');

        var montantttcc1             =  $("#montantttc_stock").val();
        var montantttcc             =  $("#montantttc_stock").val().replace(/[^0-9\.]/g, '');
        var montant_remise    =  $("#montant_remise").val();
        var montant_remise1   =  $("#montant_remise").val().replace(/[^0-9\.]/g, '');
        var offre             = $('input[name=offre]:checked').val();
        var pourcentage       =  $("#pourcentage").val();
        /*var montantttcc       = $('input[name=montantttc]').val();*/
        var m_ttc             = parseInt(montantttcc.replace(/[^0-9\.]/g, ''));
        var pourcentage       = parseInt($('input[name=pourcentage]').val());
        var montant_r         =parseInt(m_ttc-(m_ttc*(pourcentage/100)));

        var montant_rem       =parseInt(m_ttc-montant_remise1);

        var tva_r_p  = parseInt((montant_r)*0.2);
        var tva_r_m  =parseInt((montant_rem)*0.2) ;
        var ttc_r_m  = parseInt(montant_rem)  + parseInt(tva_r_m);
        var ttc_r_p  = parseInt(montant_r)  + parseInt(tva_r_p);
        var ttc_brut =parseInt(tva_brut)+ parseInt(ttc_net);

        var ht_brut =parseInt(ht_net)+ parseInt(montant_remise1);
        var new_ht =parseInt(ht_brut)- parseInt(montant_remise1);
        /*alert(ht_brut)*/


        /*alert(tva_brut);
         alert(ttc_net);
         alert(ttc_brut);*/


        if (($(".remise").is(":checked"))) {
            document.getElementById('montantttc_preconise').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('tva').value = tva_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_r_m.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montant_rem').value = montant_rem.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");


        }
        else if (($(".remise_pourcentage").is(":checked"))) {
            document.getElementById('montantttc_preconise').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('tva').value = tva_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_r_p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montant_r').value = montant_r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }
        else if (($(".gratuite").is(":checked"))) {
            document.getElementById('ht_brut').value = ht_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = montantttcc1;
            document.getElementById('montantttc_modalite').value = montantttcc1;
            document.getElementById('tva').value = tva_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }

        else {
            document.getElementById('montantttc_preconise').value = montantttcc1;
            document.getElementById('montantttc_modalite').value = montantttcc1;
            document.getElementById('tva').value = tva_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ttc_brut').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_modalite').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('montantttc_preconise').value = ttc_brut.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            document.getElementById('ht_brut').value = ht_net.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");

        }



        console.log('montant ttc',m_ttc)
        console.log('remise',pourcentage)
        console.log('montant remisé',montant_r)

        document.getElementById('pourcent').value = pourcentage;
        /* document.getElementById('nature_contenu_remise').value = nature_remise;*/
        /* document.getElementById('nature_contenu_gratuite').value = nature_remise;
         document.getElementById('montant_remise1').value = montant_remise;
         document.getElementById('montant_remise2').value = montant_remise;*/
        document.getElementById('montant_remise3').value = montant_remise;
        document.getElementById('montant_remise4').value = montant_remise;
        /*document.getElementById('montant_remise5').value = montant_remise;
         document.getElementById('montant_remise6').value = montant_remise;*/
        $("#nature_contenu_gratuite").html(nature_remise);
        $("#nature_contenu_remise").html(nature_remise);
        $("#montant_remise_gratuite").html(montant_remise);
        $("#montant_remise_remise").html(montant_remise);

        var tva = $("#tva").val().replace(/[^0-9\.]/g, '');
        /* alert(tva);*/

        var data_send    = {'nature_remise':nature_remise,'montant_remise':montant_remise1,'offre':offre,'pourcentage':pourcentage,'montant_r':montant_r,'montant_rem':montant_rem,'tva':tva};
        $.ajax({
            url: '{{ path('referencement_commande_devis_code_rp') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;
                    console.log(successMessage);
                    /*$('.loaders').css('display','none');*/

                },
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    alert('error');
                }
            }
        });
    });

    $(window).on("load ", function() {


        var montantttc = $('input[name=montantttc_modalite]').val();
        var ttc = montantttc.replace(/[^0-9\.]/g, '');
        var accompte = $('input[name=accompte]').val();
        console.log('acompppppppppppte',accompte);
        var  a = accompte.replace(/[^0-9\.]/g, '');
        var  a2 = accompte.replace(/[^0-9\.]/g, '');
        var v_a=(ttc * 25) / 100;
        console.log("aaaa2",a2,"v_a",v_a);
        var v_a_s=v_a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
        var char = a;

        if(char == 0){
            $("#sp").css('display','none');
            $(".clor").css("border", '1px solid #ced4da');
        }

        else if(char < v_a){
            $("#sp").text('Veuillez saisir au minimum '+v_a_s+' MAD (25% du montant TTC).');
            $("#sp").css('display','block');
            $(".clor").css("border", "1px solid red");


        }


        else if(char > v_a) {
            $("#sp").css('display','none');
            $(".clor").css("border", "1px solid green");
        }
        var result = parseFloat(ttc -a)/*.toFixed(2)*/;
        var sum=result.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ",".");
        var nbrpaiement =$('input[name=nbr]').val();
        var nbr=nbrpaiement.replace(/[^0-9\.]/g, '');
        var result1=parseInt( result/nbr).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
        document.getElementById('reste').value = sum;
        var montant1 = $('input[id=echeance]').value;

        if(a==ttc)
        {
            $('#nbr').css('display','none');  document.getElementById('nbr').value =  0;
            document.getElementById('montant1').value = null;
            document.getElementById('montant2').value = null;
            document.getElementById('montant3').value = null;
            $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','none');
            document.getElementById('dateP1','dateP2','dateP3').value = null;
        }
        else{$('#nbr').css('display','block'); }

        if((nbr==0) || result ==0 )
        {
            document.getElementById('montant1','montant2','montant3').value =  null;
            $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','none');
            document.getElementById('dateP1','dateP2','dateP3').value = null;
        }else

        if ((nbr==1) )
        {
            $('#montant2,#montant3,#dateP2,#dateP3').css('display','none');
            $('#montant1,#dateP1').css('display','block');

            document.getElementById('montant1').value = result1;
            document.getElementById('montant2','montant3').value =  null;
            document.getElementById('dateP2','dateP3').value = null;
            /* var d = new Date;
             var m=d.getMonth()
             if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
             */
        }else
        if(nbr==2)
        {
            $('#montant3,#dateP3').css('display','none');
            $('#montant1,#montant2,#dateP1,#dateP2').css('display','block');

            document.getElementById('montant1').value = result1;
            document.getElementById('montant2').value = result1;
            document.getElementById('montant3').value =  null;
            document.getElementById('dateP3','dateP4','dateP5').value = null;

            /* var d = new Date;
             var m=d.getMonth()
             if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
             if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(11); document.getElementById("dateP2").valueAsDate = d; } else if(m==8){ d.setMonth(0);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(2);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(3);document.getElementById("dateP1").valueAsDate = d;}
             */
        }
        else
        if(nbr==3)
        {
            $('#montant4,#montant5,#dateP4,#dateP5').css('display','none');
            $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','block');

            document.getElementById('montant1').value = result1;
            document.getElementById('montant2').value = result1;
            document.getElementById('montant3').value = result1;


            /* var d = new Date;
             var m=d.getMonth()
             if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
             if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(11); document.getElementById("dateP2").valueAsDate = d; } else if(m==8){ d.setMonth(0);document.getElementById("dateP2").valueAsDate = d;}else if(m==9){  d.setMonth(1);document.getElementById("dateP2").valueAsDate = d;}else if(m==10){d.setMonth(2);document.getElementById("dateP2").valueAsDate = d; } else if(m==11){d.setMonth(3);document.getElementById("dateP2").valueAsDate = d;}
             if(m==0){ d.setMonth(6); document.getElementById("dateP3").valueAsDate = d; }  else if(m==1){ d.setMonth(7);document.getElementById("dateP3").valueAsDate = d; }else if(m==2){  d.setMonth(8);document.getElementById("dateP3").valueAsDate = d;} else if(m==3){ d.setMonth(9); document.getElementById("dateP3").valueAsDate = d;}else if(m==4){ d.setMonth(10);document.getElementById("dateP3").valueAsDate = d; } else if(m==5){d.setMonth(11);document.getElementById("dateP3").valueAsDate = d;} else if(m==6){  d.setMonth(0);  document.getElementById("dateP3").valueAsDate = d;}   else if(m==7){ d.setMonth(1); document.getElementById("dateP3").valueAsDate = d; } else if(m==8){ d.setMonth(2);document.getElementById("dateP3").valueAsDate = d;}else if(m==9){  d.setMonth(3);document.getElementById("dateP3").valueAsDate = d;}else if(m==10){d.setMonth(4);document.getElementById("dateP3").valueAsDate = d; } else if(m==11){d.setMonth(5);document.getElementById("dateP3").valueAsDate = d;}
             */

        }


    });
    function acpt()
    {
        $(".modalites").on("keydown keyup change ", function() {


            var montantttc = $('input[name=montantttc_modalite]').val();
            var ttc = montantttc.replace(/[^0-9\.]/g, '');
            var accompte = $('input[name=accompte]').val();
            console.log('acompppppppppppte',accompte);
            var  a = accompte.replace(/[^0-9\.]/g, '');
            var  a2 = accompte.replace(/[^0-9\.]/g, '');
            var v_a=(ttc * 25) / 100;
            console.log("aaaa2",a2,"v_a",v_a);
            var v_a_s=v_a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
            var char = a;

            if(char == 0){
                $("#sp").css('display','none');
                $(".clor").css("border", '1px solid #ced4da');
            }

            else if(char < v_a){
                $("#sp").text('Veuillez saisir au minimum '+v_a_s+' MAD (25% du montant TTC).');
                $("#sp").css('display','block');
                $(".clor").css("border", "1px solid red");


            }


            else if(char > v_a) {
                $("#sp").css('display','none');
                $(".clor").css("border", "1px solid green");
            }
            var result = parseFloat(ttc -a)/*.toFixed(2)*/;
            var sum=result.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ",".");
            var nbrpaiement =$('input[name=nbr]').val();
            var nbr=nbrpaiement.replace(/[^0-9\.]/g, '');
            var result1=parseInt( result/nbr).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
            document.getElementById('reste').value = sum;
            var montant1 = $('input[id=echeance]').value;

            if(a==ttc)
            {
                $('#nbr').css('display','none');  document.getElementById('nbr').value =  0;
                document.getElementById('montant1').value = null;
                document.getElementById('montant2').value = null;
                document.getElementById('montant3').value = null;
                $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','none');
                document.getElementById('dateP1','dateP2','dateP3').valueAsDate = null;
            }
            else{$('#nbr').css('display','block'); }

            if((nbr==0) || result ==0 )
            {
                document.getElementById('montant1','montant2','montant3').value =  null;
                $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','none');
                document.getElementById('dateP1','dateP2','dateP3').valueAsDate = null;
            }else

            if ((nbr==1) )
            {
                $('#montant2,#montant3,#dateP2,#dateP3').css('display','none');
                $('#montant1,#dateP1').css('display','block');

                document.getElementById('montant1').value = result1;
                document.getElementById('montant2','montant3').value =  null;
                document.getElementById('dateP2','dateP3').value = null;
                /* var d = new Date;
                 var m=d.getMonth()
                 if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
                 */
            }else
            if(nbr==2)
            {
                $('#montant3,#dateP3').css('display','none');
                $('#montant1,#montant2,#dateP1,#dateP2').css('display','block');

                document.getElementById('montant1').value = result1;
                document.getElementById('montant2').value = result1;
                document.getElementById('montant3').value =  null;
                document.getElementById('dateP3','dateP4','dateP5').valueAsDate = null;

                /* var d = new Date;
                 var m=d.getMonth()
                 if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
                 if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(11); document.getElementById("dateP2").valueAsDate = d; } else if(m==8){ d.setMonth(0);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(2);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(3);document.getElementById("dateP1").valueAsDate = d;}
                 */
            }
            else
            if(nbr==3)
            {
                $('#montant4,#montant5,#dateP4,#dateP5').css('display','none');
                $('#montant1,#montant2,#montant3,#dateP1,#dateP2,#dateP3').css('display','block');

                document.getElementById('montant1').value = result1;
                document.getElementById('montant2').value = result1;
                document.getElementById('montant3').value = result1;


                /* var d = new Date;
                 var m=d.getMonth()
                 if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}else if(m==10){d.setMonth(0);document.getElementById("dateP1").valueAsDate = d; } else if(m==11){d.setMonth(1);document.getElementById("dateP1").valueAsDate = d;}
                 if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(11); document.getElementById("dateP2").valueAsDate = d; } else if(m==8){ d.setMonth(0);document.getElementById("dateP2").valueAsDate = d;}else if(m==9){  d.setMonth(1);document.getElementById("dateP2").valueAsDate = d;}else if(m==10){d.setMonth(2);document.getElementById("dateP2").valueAsDate = d; } else if(m==11){d.setMonth(3);document.getElementById("dateP2").valueAsDate = d;}
                 if(m==0){ d.setMonth(6); document.getElementById("dateP3").valueAsDate = d; }  else if(m==1){ d.setMonth(7);document.getElementById("dateP3").valueAsDate = d; }else if(m==2){  d.setMonth(8);document.getElementById("dateP3").valueAsDate = d;} else if(m==3){ d.setMonth(9); document.getElementById("dateP3").valueAsDate = d;}else if(m==4){ d.setMonth(10);document.getElementById("dateP3").valueAsDate = d; } else if(m==5){d.setMonth(11);document.getElementById("dateP3").valueAsDate = d;} else if(m==6){  d.setMonth(0);  document.getElementById("dateP3").valueAsDate = d;}   else if(m==7){ d.setMonth(1); document.getElementById("dateP3").valueAsDate = d; } else if(m==8){ d.setMonth(2);document.getElementById("dateP3").valueAsDate = d;}else if(m==9){  d.setMonth(3);document.getElementById("dateP3").valueAsDate = d;}else if(m==10){d.setMonth(4);document.getElementById("dateP3").valueAsDate = d; } else if(m==11){d.setMonth(5);document.getElementById("dateP3").valueAsDate = d;}
                 */

            }


        });
    }

    /*$("#dateP3").on("change", function() {
     var dateP3 = $("#dateP3").val();
     var dateP4 = $("#dateP4").val();
     var d = new Date;
     var m=d.getMonth()
     if(m==0){ d.setMonth(6); document.getElementById("dateP4").valueAsDate = d; }  else if(m==1){ d.setMonth(7);document.getElementById("dateP4").valueAsDate = d; }else if(m==2){  d.setMonth(8);document.getElementById("dateP4").valueAsDate = d;} else if(m==3){ d.setMonth(9); document.getElementById("dateP4").valueAsDate = d;}else if(m==4){ d.setMonth(10);document.getElementById("dateP4").valueAsDate = d; } else if(m==5){d.setMonth(11);document.getElementById("dateP4").valueAsDate = d;} else if(m==6){  d.setMonth(0);  document.getElementById("dateP4").valueAsDate = d;}   else if(m==7){ d.setMonth(1); document.getElementById("dateP4").valueAsDate = d; } else if(m==8){ d.setMonth(2);document.getElementById("dateP4").valueAsDate = d;}else if(m==9){  d.setMonth(3);document.getElementById("dateP4").valueAsDate = d;}else if(m==10){d.setMonth(4);document.getElementById("dateP4").valueAsDate = d; } else if(m==11){d.setMonth(5);document.getElementById("dateP4").valueAsDate = d;}

     if(dateP3 > dateP4)
     {
     alert('Vous avez entré une date supérieure à la date de règlement interne de la société.');
     }

     });*/

    $("#nbr,#accompte").on("keydown keyup change  load ", function() {
        var nbrpaiement =$('input[name=nbr]').val();
        var nbr=nbrpaiement.replace(/[^0-9\.]/g, '');

        if ((nbr==1) )
        {
            var d = new Date;
            var m=d.getMonth();
            var y=d.getFullYear();
            var year=y+1
            if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}

            else if(m==10){d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP1").valueAsDate = d;} }
            else if(m==11){d.setMonth(1);d.setFullYear(year);var x= d.getMonth();if(x==1){document.getElementById("dateP1").valueAsDate = d;} }
        }else
        if(nbr==2)
        {
            var d = new Date;
            var m=d.getMonth();
            var y=d.getFullYear();
            var year=y+1
            if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}

            else if(m==10){d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP1").valueAsDate = d;} }
            else if(m==11){d.setMonth(1);d.setFullYear(year);var x= d.getMonth();if(x==1){document.getElementById("dateP1").valueAsDate = d;} }

            if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(10); document.getElementById("dateP2").valueAsDate = d; }
            else if(m==8){ d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==9){d.setMonth(1);d.setFullYear(year);var x= d.getMonth();if(x==2){d.setMonth(1);document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==10){d.setMonth(2);d.setFullYear(year);var x= d.getMonth();if(x==2){document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==11){d.setMonth(3);d.setFullYear(year);var x= d.getMonth();if(x==3){document.getElementById("dateP2").valueAsDate = d; }}

        }
        else
        if(nbr==3)
        {
            var d = new Date;
            var m=d.getMonth();
            var y=d.getFullYear();
            var year=y+1

            if(m==0){ d.setMonth(2); document.getElementById("dateP1").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP1").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP1").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP1").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP1").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP1").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP1").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP1").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP1").valueAsDate = d;}else if(m==9){  d.setMonth(11);document.getElementById("dateP1").valueAsDate = d;}

            else if(m==10){d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP1").valueAsDate = d;} }
            else if(m==11){d.setMonth(1);d.setFullYear(year);var x= d.getMonth();if(x==1){document.getElementById("dateP1").valueAsDate = d;} }

            if(m==0){ d.setMonth(4); document.getElementById("dateP2").valueAsDate = d; }  else if(m==1){ d.setMonth(5);document.getElementById("dateP2").valueAsDate = d; }else if(m==2){  d.setMonth(6);document.getElementById("dateP2").valueAsDate = d;} else if(m==3){ d.setMonth(7); document.getElementById("dateP2").valueAsDate = d;}else if(m==4){ d.setMonth(8);document.getElementById("dateP2").valueAsDate = d; } else if(m==5){d.setMonth(9);document.getElementById("dateP2").valueAsDate = d;} else if(m==6){  d.setMonth(10);  document.getElementById("dateP2").valueAsDate = d;}   else if(m==7){ d.setMonth(10); document.getElementById("dateP2").valueAsDate = d; }
            else if(m==8){ d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==9){d.setMonth(1);d.setFullYear(year);var x= d.getMonth();if(x==2){d.setMonth(1);document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==10){d.setMonth(2);d.setFullYear(year);var x= d.getMonth();if(x==2){document.getElementById("dateP2").valueAsDate = d;}}
            else if(m==11){d.setMonth(3);d.setFullYear(year);var x= d.getMonth();if(x==3){document.getElementById("dateP2").valueAsDate = d; }}

            if(m==0){ d.setMonth(6); document.getElementById("dateP3").valueAsDate = d; }  else if(m==1){ d.setMonth(7);document.getElementById("dateP3").valueAsDate = d; }else if(m==2){  d.setMonth(8);document.getElementById("dateP3").valueAsDate = d;} else if(m==3){ d.setMonth(9); document.getElementById("dateP3").valueAsDate = d;}else if(m==4){ d.setMonth(10);document.getElementById("dateP3").valueAsDate = d; } else if(m==5){d.setMonth(11);document.getElementById("dateP3").valueAsDate = d;}
            else if(m==6){  d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP3").valueAsDate = d;}}
            else if(m==7){ d.setMonth(1); d.setFullYear(year);var x= d.getMonth();if(x==1){document.getElementById("dateP3").valueAsDate = d;}}
            else if(m==8){ d.setMonth(2);d.setFullYear(year);var x= d.getMonth();if(x==2){document.getElementById("dateP3").valueAsDate = d;}}
            else if(m==9){ d.setMonth(3);d.setFullYear(year);var x= d.getMonth();if(x==3){document.getElementById("dateP3").valueAsDate = d;}}
            else if(m==10){d.setMonth(4);d.setFullYear(year);var x= d.getMonth();if(x==4){document.getElementById("dateP3").valueAsDate = d;}}
            else if(m==11){d.setMonth(5);d.setFullYear(year);var x= d.getMonth();if(x==5){document.getElementById("dateP3").valueAsDate = d;}}

        }

    });

    $(document).on('change keyup keydown ', '.modalites', function () {

        /*$('.loaders').css('display','');*/
        acpt();
        var montantttc_modalite = $("#ttc_brut").val();
        var new_ht = $("#ht_brut").val();
        /*alert(montantttc_modalite);*/
        var accompte1 = $("#accompte").val().replace(/[^0-9\.]/g, '');
        var accompte = accompte1.replace(/[^0-9\.]/g, '');
        var reste = $('input[name=reste]').val().replace(/[^0-9\.]/g, '');
        console.log('resttttttttttttttttttttttttt', reste);
        var nbr = $("#nbr").val();
        var montant1 = $("#montant1").val().replace(/[^0-9\.]/g, '');
        var montant2 = $("#montant2").val().replace(/[^0-9\.]/g, '');
        var montant3 = $("#montant3").val().replace(/[^0-9\.]/g, '');
        /* alert(montant1);*/
        var dateP1 = $("#dateP1").val();
        var dateP2 = $("#dateP2").val();
        var dateP3 = $("#dateP3").val();
        var data_send = {'montantttc': montantttc_modalite,'new_ht': new_ht,'accompte': accompte1,'reste': reste,'nbr': nbr,'montant1': montant1,'montant2': montant2,'montant3': montant3,'dateP1': dateP1,'dateP2': dateP2, 'dateP3': dateP3};



        $.ajax({
            url: '{{ path('referencement_commande_devis_paiement') }}',
            type: 'POST',
            data: data_send,
            statusCode: {
                //traitement en cas de succès
                200: function (response) {
                    var successMessage = response;
                    console.log(successMessage);
                    /*  $('#prestation').children("option").remove();*/
                    //on vide les champs formulaires ou on le supprime ou ...
                    //on retire le loader...
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    /*$('.loaders').css('display','none');*/

                },
                //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                412: function (response) {
                    var errorsForm = response.responseJSON.formErrors;
                    //on affiche les erreurs...
                    alert('error');

                }
            }
        });
    });

    $(window, "#modalite_preconise").on("click  load ", function() {
        var montantttc = $('input[name=montantttc_preconise]').val();
        var nbr_preconise = $('input[name=nbr_preconise]').val();
        var ttc = montantttc.replace(/[^0-9\.]/g, '');
        var v_a=(ttc * 25) / 100;
        var reste_preconise=ttc - v_a;
        var montant_div=reste_preconise/nbr_preconise;
        var v_a_s=v_a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
        var reste_preo=reste_preconise.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
        var montant_divi=montant_div.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")/*.toFixed(2)*/;
        document.getElementById('accompte_preconise').value = v_a_s;
        document.getElementById('reste_preconise').value = reste_preo;
        document.getElementById('montant1_preconise').value = montant_divi;
        document.getElementById('montant2_preconise').value = montant_divi;
        document.getElementById('montant3_preconise').value = montant_divi;
        var d = new Date;
        var m=d.getMonth();
        var y=d.getFullYear();
        var year=y+1
        if(m==0){ d.setMonth(1); document.getElementById("dateP1_preconise").valueAsDate = d; }  else if(m==1){ d.setMonth(2);document.getElementById("dateP1_preconise").valueAsDate = d; }else if(m==2){  d.setMonth(3);document.getElementById("dateP1_preconise").valueAsDate = d;} else if(m==3){ d.setMonth(4); document.getElementById("dateP1_preconise").valueAsDate = d;}else if(m==4){ d.setMonth(5);document.getElementById("dateP1_preconise").valueAsDate = d; } else if(m==5){d.setMonth(6);document.getElementById("dateP1_preconise").valueAsDate = d;} else if(m==6){  d.setMonth(7);  document.getElementById("dateP1_preconise").valueAsDate = d;}   else if(m==7){ d.setMonth(8); document.getElementById("dateP1_preconise").valueAsDate = d; } else if(m==8){ d.setMonth(9);document.getElementById("dateP1_preconise").valueAsDate = d;}

        else if(m==9){d.setMonth(10);var x= d.getMonth();if(x==11){d.setMonth(10);document.getElementById("dateP1_preconise").valueAsDate = d;}}


        else if(m==10){d.setMonth(11);document.getElementById("dateP1_preconise").valueAsDate = d; }
        else if(m==11){ d.setMonth(0);d.setFullYear(year);var x= d.getMonth();if(x==0){document.getElementById("dateP1_preconise").valueAsDate = d;}}


        if(m==0){ d.setMonth(2); document.getElementById("dateP2_preconise").valueAsDate = d; }  else if(m==1){ d.setMonth(3);document.getElementById("dateP2_preconise").valueAsDate = d; }else if(m==2){  d.setMonth(4);document.getElementById("dateP2_preconise").valueAsDate = d;} else if(m==3){ d.setMonth(5); document.getElementById("dateP2_preconise").valueAsDate = d;}else if(m==4){ d.setMonth(6);document.getElementById("dateP2_preconise").valueAsDate = d; } else if(m==5){d.setMonth(7);document.getElementById("dateP2_preconise").valueAsDate = d;} else if(m==6){  d.setMonth(8);  document.getElementById("dateP2_preconise").valueAsDate = d;}   else if(m==7){ d.setMonth(9); document.getElementById("dateP2_preconise").valueAsDate = d; } else if(m==8){ d.setMonth(10);document.getElementById("dateP2_preconise").valueAsDate = d;}

        else if(m==9){


            d.setMonth(11);document.getElementById("dateP2_preconise").valueAsDate = d;

        }
        else if(m==10){d.setMonth(0);d.setFullYear(year);var x= d.getMonth(); if(x==0){document.getElementById("dateP2_preconise").valueAsDate = d;}}

        else if(m==11){d.setMonth(1);setFullYear(year);var x= d.getMonth(); if(x==1){document.getElementById("dateP2_preconise").valueAsDate = d;}}
        if(m==0){ d.setMonth(3); document.getElementById("dateP3_preconise").valueAsDate = d; }  else if(m==1){ d.setMonth(4);document.getElementById("dateP3_preconise").valueAsDate = d; }else if(m==2){  d.setMonth(5);document.getElementById("dateP3_preconise").valueAsDate = d;} else if(m==3){ d.setMonth(6); document.getElementById("dateP3_preconise").valueAsDate = d;}else if(m==4){ d.setMonth(7);document.getElementById("dateP3_preconise").valueAsDate = d; } else if(m==5){d.setMonth(8);document.getElementById("dateP3_preconise").valueAsDate = d;} else if(m==6){  d.setMonth(9);  document.getElementById("dateP3_preconise").valueAsDate = d;}   else if(m==7){ d.setMonth(10); document.getElementById("dateP3_preconise").valueAsDate = d; } else if(m==8){ d.setMonth(11);document.getElementById("dateP3_preconise").valueAsDate = d;}

        else if(m==9){d.setMonth(0);d.setFullYear(year);var x= d.getMonth(); if(x==0){document.getElementById("dateP3_preconise").valueAsDate = d;}}
        else if(m==10){d.setMonth(1);d.setFullYear(year);var x= d.getMonth(); if(x==1){document.getElementById("dateP3_preconise").valueAsDate = d;}}
        else if(m==11){d.setMonth(2);d.setFullYear(year);var x= d.getMonth(); if(x==2){document.getElementById("dateP3_preconise").valueAsDate = d;}}


    });

    /* $(function () {
     $(window,'.checkbox').on('change load',function () {
     if ($('input.checkbox').is(':checked')) {
     $(".promotion").show();
     }
     else
     {
     $(".promotion").hide();
     document.getElementById('nature_contenu_remise').value = null;
     document.getElementById('nature_contenu_gratuite').value = null;
     document.getElementById('montant_remise1').value = null;
     document.getElementById('montant_remise2').value = null;
     }
     });
     });*/
    $(function () {
        $(window,'.checkbox').on('change load',function () {
            if ($('input.remise').is(':checked')) {
                $(".promo_remise").show();
                $(".promo_gratuite").hide();
                /*document.getElementById('nature_contenu_gratuite').value = null;
                 document.getElementById('montant_remise1').value = null;
                 document.getElementById('montant_remise2').value = null;*/
            }else
            if ($('input.gratuite').is(':checked')) {
                $(".promo_gratuite").show();
                $(".promo_remise").hide();
                /*document.getElementById('nature_contenu_remise').value = null;*/
            }
            else
            {
                $(".promo_remise").hide();
                $(".promo_gratuite").hide();
                /* document.getElementById('nature_contenu_remise').value = null;
                 document.getElementById('nature_contenu_gratuite').value = null;
                 document.getElementById('montant_remise1').value = null;
                 document.getElementById('montant_remise2').value = null;*/
            }

        });
    });

    $(function () {
        $(window,'.gratuite').on('change load',function () {
            if ($('input.gratuite').is(':checked')) {
                $(".gratuite_th").show();

            }
            else
            if ($('input.remise').is(':checked'))
            {
                $(".gratuite_th").hide();

            }
            else
            {
                $(".gratuite_th").hide();


            }
        });
    });

    $(function () {
        $(window,'.remise_pourcentage').on('change keyup keydown load',function () {
            var pourcent = $('input.pourcentage').val()
            if ($('input.remise_pourcentage').is(':checked') && pourcent.length != "")
            {
                $(".remise_th").show();
                $(".montant_remise_th").hide();



            }
            else
            if ($('input.gratuite').is(':checked'))
            {
                $(".remise_th").hide();





            }
            else
            {
                $(".remise_th").hide();



            }
        });
    });
    $(function () {
        $(window,'.remise').on('change keyup keydown load',function () {
            var m_r =parseInt($("#montant_remise").val().replace(/[^0-9\.]/g, ''));

            if ($('input.remise').is(':checked') && m_r.length != "")
            {
                $(".montant_remise_th").show();

            }
            else
            if ($('input.gratuite').is(':checked'))
            {
                $(".montant_remise_th").hide();
                /*document.getElementById('nature_remise').value = null;
                 document.getElementById('nature_contenu_gratuite').value = null;*/


            }
            else
            {
                $(".montant_remise_th").hide();
                document.getElementById('nature_remise').value = null;
                document.getElementById('nature_contenu_gratuite').value = null;


            }
        });
    });

    $(function () {
        $(window,'.gratuite,.remise,.remise_pourcentage').on('change load',function () {
            if ($('input.gratuite').is(':checked')|| $('input.remise').is(':checked')|| $('input.remise_pourcentage').is(':checked')) {
                $(".visibilite_new_ht").show();
                $(".visibilite-td").show();
            }
            else
            {
                $(".visibilite_new_ht").hide();
                $(".visibilite-td").hide();


            }
        });
    });

    $(document).ready(function() {


        $(document).on('click', '.proposition_btn', function (event) {
            event.preventDefault();
            $('.loaders').css('display','');

            var selectedLanguage = new Array();
            $('input[name="joindre"]:checked').each(function() {

                selectedLanguage.push(this.value);
            });

            var b=   $('input[id=email]').val();
            var data_send = {'rs': 'rs','cfirme':'firme','join':selectedLanguage,'email':b};
            $.ajax({
                url: '{{ path('referencement_commande_devis_mail_proposition') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;



                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...

                        $('.loaders').css('display','none');
                        alert('E-mail envoyée avec succès');
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });

        });

        $(document).on('click', '.devis_btn', function (event) {
            event.preventDefault();
            $('.loaders').css('display','');

            var selectedLanguage = new Array();
            $('input[name="joindre"]:checked').each(function() {

                selectedLanguage.push(this.value);
            });

            var b=   $('input[id=email]').val();
            var data_send = {'rs': 'rs','cfirme':'firme','join':selectedLanguage,'email':b};
            $.ajax({
                url: '{{ path('referencement_commande_devis_mail_bon_devis') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;



                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...

                        $('.loaders').css('display','none');
                        alert('E-mail envoyée avec succès');
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });

        });


        $(document).on('click', '.bon_commande_btn', function (event) {
            event.preventDefault();
            $('.loaders').css('display','');

            var selectedLanguage = new Array();
            $('input[name="joindre"]:checked').each(function() {

                selectedLanguage.push(this.value);
            });

            var b=   $('input[id=email]').val();
            var data_send = {'rs': 'rs','cfirme':'firme','join':selectedLanguage,'email':b};
            $.ajax({
                url: '{{ path('referencement_commande_devis_mail_bon_commande') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;



                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...

                        $('.loaders').css('display','none');
                        alert('E-mail envoyée avec succès');
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });

        })


        $(document).on('click', '#now', function () {
            var data_send = {'rs': 'rs','cfirme':'firme'};
            $.ajax({
                url: '{{ path('referencement_commande_devis_fn') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...
                        /* $('.loaders').css('display','none');*/
                        alert('devis validé avec succès');
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });
        });

        $(document).on('change', '.visbilite_header', function () {
            var visbilite_header=  $('input[name=visbilite_header]:checked').val();

            var data_send = {'visbilite_header': visbilite_header};
            $.ajax({
                url: '{{ path('referencement_commande_devis_visbilite_header') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...
                        /* $('.loaders').css('display','none');*/
//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });
        });

    });

    $(window).on("load", function (){
        var proposition = $('input.proposition:checked').val();


        if (proposition=='proposition') {

            $('#proposition').show();
            $('#proposition_test_envoi').css('display','none');
            $('#bon_commande').hide();
            $('#devis').hide();
            $('#devis_text').css('display','');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').hide();
        }else
        {
            $('#proposition').hide();
            $('#proposition_test_envoi').css('display','');
            $('#devis').hide();
            $('#bon_commande').hide();
        }
    });

    $('.v_reguelemnt').on("change ", function (){

        if (($(".v_reguelemnt").is(":checked"))) {
            $('#proposition').hide();
            $('#proposition_test_envoi').css('display','none');
            $('#devis').show();
            $('#bon_commande').hide();
            $('.reglement').hide();
            $('#joindre').prop('disabled', 'disabled');
            $('#devis_text').css('display','none');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').show();

        }else

        if ($('.v_reguelemnt').prop('checked', false)) {

            $('#proposition_test_envoi').css('display','');
            $('#joindre').prop('checked', false);
            $('#devis').hide();
            $('#devis_text').css('display','');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').hide();

        }
    });

    $('.bon_commande').on("change ", function (){

        if (($(".bon_commande").is(":checked"))) {
            $('#proposition').hide();
            $('#proposition_test_envoi').css('display','none');
            $('#bon_commande').show();
            $('#devis').hide();
            $('#joindre').prop('checked', true);
            $('#proposition').css('display','none');
            $('.reglement').show();
            $('#joindre').prop('disabled', 'disabled');
            $('#devis_text').css('display','none');
            $('#bn_commande_text').show();
            $('#ordre_insertion').hide();

        }else
        if ($('.bon_commande').prop('checked', false)) {


            $('#proposition_test_envoi').css('display','');
            $('#bon_commande').hide();
            $('#devis').hide();

            $('.reglement').hide();
            $('#joindre').prop('disabled', 'disabled');
            $('#devis_text').css('display','');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').hide();
        }
    });

    $('.proposition').on("change ", function (){

        if (($(".proposition").is(":checked"))) {
            $('#proposition').show();
            $('#proposition_test_envoi').css('display','none');
            $('#bon_commande').hide();
            $('#devis').hide();
            $('.reglement').hide();
            $('#joindre').prop('disabled', 'disabled');
            $('#devis_text').css('display','');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').hide();

        }else
        if ($('.proposition').prop('checked', false)) {
            $('#proposition').hide();
            $('#bon_commande').hide();
            $('#devis').hide();
            $('#proposition_test_envoi').css('display','');
            $('#devis_text').css('display','');
            $('#bn_commande_text').hide();
            $('#ordre_insertion').hide();
        }
    });

    $(window).on("load", function (){
        var devis = $('input.v_reguelemnt:checked').val();


        if (devis=='devis') {
            $('#proposition').hide();
            $('#proposition_test_envoi').css('display','none');
            $('#bon_commande').hide();
            $('#devis').show();
            $('#devis_text').hide();
            $('#bn_commande_text').hide();
            $('#ordre_insertion').show();
        }else
        {
            $('#devis').hide();
            $('#bon_commande').hide();


        }
    });

    $(window).on("load ", function (){
        var bon_commande = $('input.bon_commande:checked').val();
        if (bon_commande=='bon_commande') {

            $('#proposition').hide();
            $('#bon_commande').show();
            $('#devis').hide();
            $('#joindre').prop('checked', true);
            $('#proposition').css('display','none');
            $('#proposition_test_envoi').css('display','none');
            $('.reglement').show();
            $('#joindre').prop('disabled', 'disabled');
            $('#devis_text').hide();
            $('#bn_commande_text').show();
            $('#ordre_insertion').hide();

        }else
        if ($('.bon_commande').prop('checked', false)) {
            /*  $('#proposition').hide();*/
            /* $('#proposition_test_envoi').css('display','');*/

            $('.reglement').hide();
            $('#joindre').prop('disabled', 'disabled');

        }
    })

    $('.visbilite_header').on('change', function() {
        $('.visbilite_header').not(this).prop('checked', false);
    });
</script>

</html>
